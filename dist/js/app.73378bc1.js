(function(e){function t(t){for(var r,s,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},"1e71":function(e,t,n){"use strict";var r=n("6494"),a=n.n(r);a.a},"1ede":function(e,t,n){"use strict";var r=n("6227"),a=n.n(r);a.a},2:function(e,t){},2428:function(e,t,n){},3776:function(e,t,n){"use strict";var r=n("eb50"),a=n.n(r);a.a},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="4678"},"53a0":function(e,t,n){"use strict";var r=n("ea11"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("b0c0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("router-view")],1)},i=[],s={name:"App"},o=s,c=n("2877"),l=n("6544"),u=n.n(l),d=n("7496"),m=Object(c["a"])(o,a,i,!1,null,null,null),f=m.exports;u()(m,{VApp:d["a"]});n("cc73");var p=n("6cf9");r["a"].use(p["a"]);var v=n("5181"),h=n.n(v),b=n("7bb1");r["a"].use(h.a),r["a"].component("ValidationProvider",b["a"]);var g=n("2f62");r["a"].use(g["a"]);n("d3b7");r["a"].use(g["a"]);var w=new g["a"].Store({state:{layout:"before-auth",selectedDate:null,currentSession:{loggedIn:!1,sessionId:null,email:null,role:null},currentRoomActive:!1},actions:{login_session:function(e,t){var n=e.commit;return new Promise((function(e){setTimeout((function(){n("LOGIN_CURRENT_SESSION",t),e()}),1e3)}))}},mutations:{SET_LAYOUT:function(e,t){e.layout=t},SET_SELECTED_DATE:function(e,t){e.selectedDate=t},LOGIN_CURRENT_SESSION:function(e,t){e.currentSession={loggedIn:!0,sessionId:t.sessionId,email:t.email,role:t.role}},LOGOUT_CURRENT_SESSION:function(e){e.currentSession={loggedIn:!1,sessionId:null,email:null,role:null}},MAKE_ROOM_ACTIVE:function(e,t){e.currentRoomActive=t.roomActive}},getters:{layout:function(e){return e.layout},selectedDate:function(e){return e.selectedDate},currentSession:function(e){return e.currentSession},currentRoomActive:function(e){return e.currentRoomActive}}}),y=w,x=new g["a"].Store({state:{loggedIn:!1,user:null,session:{email:null,role:null,sessionId:null,name:null}},mutations:{loggedIn:function(e,t){e.loggedIn=!0,e.user=t},logOut:function(e){e.loggedIn=!1,e.user={}},logInSession:function(e,t){e.session=t}}}),k=x,S=(n("caad"),n("2532"),n("96cf"),n("1da1")),j=n("8c4f"),O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{height:"100%",display:"flex","justify-content":"center","align-items":"center","flex-direction":"column"}},[r("div",{staticStyle:{"margin-bottom":"30px"}},[r("v-img",{attrs:{src:n("9d64"),"max-width":"300"}})],1),r("h1",[e._v("Page not found!")]),r("div",{staticStyle:{"margin-top":"30px"}},[r("v-btn",{attrs:{tile:""},on:{click:e.goToHomePage}},[e._v("Go back to Home page!")])],1)])},C=[],_={name:"PageNotFound",methods:{goToHomePage:function(){this.$router.push({name:"UserLogin"})}}},T=_,L=n("8336"),E=n("adda"),P=Object(c["a"])(T,O,C,!1,null,"132624ba",null),I=P.exports;u()(P,{VBtn:L["a"],VImg:E["a"]});var D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{height:"100%"}},[r("loading",{attrs:{active:e.isLoading,"can-cancel":!0,"on-cancel":e.onCancel,"is-full-page":e.fullPage},on:{"update:active":function(t){e.isLoading=t}}}),r("v-snackbar",{attrs:{top:!0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" Invalid email or password. "),r("v-btn",{attrs:{color:"pink",text:""},on:{click:function(t){e.snackbar=!1}}},[e._v(" Close ")])],1),r("v-row",{staticStyle:{height:"100%"}},[r("v-col",{staticStyle:{padding:"5%"},attrs:{cols:"5"}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-img",{attrs:{src:n("9d64"),"max-width":"100%"}})],1),r("v-row",{attrs:{"no-gutters":""}},[r("form",{staticStyle:{width:"100%",display:"flex","flex-direction":"column","flex-grow":"1"},attrs:{id:"form1"}},[r("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[r("div",{staticClass:"e-float-input"},[r("ejs-textbox",{attrs:{cssClass:"white-textbox",name:"Email","data-required-message":"* Please enter your email",required:"","data-msg-containerid":"emailError",id:"textbox",floatLabelType:"Auto",placeholder:"Enter your email: 123@gmai.com"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),r("div",{attrs:{id:"emailError"}})]),r("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[r("div",{staticClass:"e-float-input"},[r("ejs-textbox",{attrs:{type:"password",name:"Password","data-required-message":"* Please enter your password",required:"","data-msg-containerid":"passwordError",id:"textbox",floatLabelType:"Auto",placeholder:"Enter the password: 123456"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("div",{attrs:{id:"passwordError"}})]),r("div",{staticClass:"submitBtn",staticStyle:{"margin-top":"20px"}},[r("v-btn",{staticClass:"submit-btn e-btn",attrs:{block:"",tile:"",dark:"",id:"submit-btn",color:"#212121"}},[e._v("Log in")])],1)])])],1),r("v-col",{staticStyle:{"background-color":"#212121",height:"100%"},attrs:{cols:"7"}})],1)],1)},V=[],R=(n("ac1f"),n("1276"),n("bc3a")),A=n.n(R),N=A.a.create({baseURL:"https://vanilla-conferencing-server.herokuapp.com/",headers:{"Content-Type":"application/json"}});N.defaults.withCredentials=!0;var q=N,M=function(e,t,n){return q.post("/user/login",{email:e,password:t,dbName:n})},F=M,z=function(){return q.post("/user/logout")},$=z,U=function(e,t,n){return window.console.log(t,n),q.post("/user/signUp",{name:e,email:t,password:n})},B=U,H=n("9062"),Y=n.n(H),W=n("a78e"),G=n.n(W),J=n("21cb"),X=n("99dc");r["a"].use(J["a"]);var K=n("9b6c"),Q={name:"UserLogin",components:{Loading:Y.a},beforeMount:function(){G.a.get("user")&&(k.commit("loggedIn",JSON.parse(G.a.get("user"))),this.$router.push({name:"Sessions"}))},mounted:function(){var e=window.location.host;this.subdomain=e.split(".")[0];var t=this;this.formObj=new X["a"]("#form1",this.options),document.getElementById("submit-btn").onclick=function(e){e.preventDefault(),t.onFormSubmit()}},data:function(){return{snackbar:!1,valid:!1,email:"",password:"",subdomain:"",check:!1,fullPage:!0,isLoading:!1,options:{customPlacement:function(e,t){e=e.closest(".form-group").querySelector(".error"),e.parentElement.appendChild(t)},rules:{Email:{required:!0,email:!0},Password:{required:!0,minLength:6}}}}},methods:{onFormSubmit:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.formObj.validate(),t&&this.logInUser();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),logInUser:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.isLoading=!0,e.next=4,F(this.email,this.password,K(this.subdomain));case 4:return t=e.sent,n=t.data,e.next=8,k.commit("loggedIn",n);case 8:G.a.set("user",n,{expires:7}),this.$router.push({name:"Sessions"}),this.isLoading=!1,e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](0),this.isLoading=!1,this.snackbar=!0,this.formObj.element.reset();case 18:case"end":return e.stop()}}),e,this,[[0,13]])})));function t(){return e.apply(this,arguments)}return t}()}},Z=Q,ee=(n("53a0"),n("62ad")),te=n("0fd9"),ne=n("2db4"),re=Object(c["a"])(Z,D,V,!1,null,"0ab0cce0",null),ae=re.exports;u()(re,{VBtn:L["a"],VCol:ee["a"],VImg:E["a"],VRow:te["a"],VSnackbar:ne["a"]});var ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-session",staticStyle:{height:"100%",display:"flex","flex-direction":"column",padding:"20px 30px"}},[n("loading",{attrs:{active:e.isLoading,"can-cancel":!0,"on-cancel":e.onCancel,"is-full-page":e.fullPage},on:{"update:active":function(t){e.isLoading=t}}}),n("v-dialog",{attrs:{"max-width":"290"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Class is created!")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.navigateTo("Sessions")}}},[e._v(" Go To All Classes ")])],1)],1)],1),n("div",{staticStyle:{"font-size":"1.5em","font-weight":"200"}},[e._v("Schedule New Class")]),n("form",{staticStyle:{width:"100%",display:"flex","flex-direction":"column","flex-grow":"1"},attrs:{id:"form1"}},[n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-textbox",{attrs:{name:"Title","data-required-message":"* Enter the title of the class",required:"","data-msg-containerid":"titleError",id:"textbox",floatLabelType:"Auto",placeholder:"Title of The class"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),n("div",{attrs:{id:"titleError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-datepicker",{attrs:{value:e.form.date,strictMode:!0,format:e.dateFormat,placeholder:"Pick a date",name:"Date","data-required-message":"* Pick the date of the class",required:"","data-msg-containerid":"dateError",min:e.minDate}})],1),n("div",{attrs:{id:"dateError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-timepicker",{attrs:{placeholder:"Pick a time",name:"Time","data-required-message":"* Pick the time of the class",required:"","data-msg-containerid":"timeError"},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1),n("div",{attrs:{id:"timeError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-dropdownlist",{attrs:{dataSource:e.lecturerDatas,id:"dropdownlist",placeholder:"Pick a lecturer",name:"Lecturer","data-required-message":"* Pick a lecturer for the class",required:"","data-msg-containerid":"lecturerError"},on:{change:e.handleChange},model:{value:e.form.lecturers,callback:function(t){e.$set(e.form,"lecturers",t)},expression:"form.lecturers"}})],1),n("div",{attrs:{id:"lecturerError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-multiselect",{attrs:{id:"multiselect",dataSource:e.studentDatas,placeholder:"Select students",mode:"CheckBox",fields:e.fields,showSelectAll:e.showSelectAll,selectAllText:"Select All",unSelectAllText:"unSelect All",name:"Students","data-required-message":"* Pick students",required:"","data-msg-containerid":"studentsError"},model:{value:e.form.students,callback:function(t){e.$set(e.form,"students",t)},expression:"form.students"}})],1),n("div",{attrs:{id:"studentsError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-textbox",{attrs:{multiline:!0,name:"Agenda",id:"textbox",floatLabelType:"Auto",placeholder:"Agenda of The Session"},model:{value:e.form.agenda,callback:function(t){e.$set(e.form,"agenda",t)},expression:"form.agenda"}})],1)]),e._m(0)])],1)},se=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"submitBtn"},[n("button",{staticClass:"submit-btn e-btn",staticStyle:{width:"100%"},attrs:{id:"submit-btn"}},[e._v("Submit")])])}],oe=(n("a4d3"),n("4de4"),n("d81d"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),ce=n("2af1b"),le=n("2aab"),ue=n("a222"),de=n("26d8"),me=n("eda0");function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){Object(oe["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=function(e){return q.post("/session/new",{session:pe({},e)})},he=ve,be=function(){return q.post("/sessions")},ge=be,we=function(e){return q.post("/session/".concat(e,"/delete"))},ye=we;function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Object(oe["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=function(e,t){return q.post("/session/".concat(e,"/edit"),{session:ke({},t)})},je=Se,Oe=n("cbef"),Ce=function(e){return q.post("/users/all",{role:e})},_e=Ce,Te=function(e,t){return q.post("/user/updateRole",{ids:e,roleToAdd:t})},Le=Te,Ee=function(e,t){return q.post("/user/removeRole",{id:e,roleToRemove:t})},Pe=Ee,Ie=function(e,t){return q.post("/user/".concat(e,"/update"),{data:t})},De=Ie;n("e40d");function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Object(oe["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}le["a"].Inject(ue["a"]),r["a"].use(ce["a"]),r["a"].use(J["a"]),r["a"].use(me["a"]),r["a"].use(de["a"]),r["a"].use(Oe["a"]);var Ae={name:"Dashboard",components:{Loading:Y.a},data:function(){return{isLoading:!1,fullPage:!0,fields:{text:"email",value:"Id"},showSelectAll:!0,dialog:!1,studentDatas:[],lecturerDatas:[],waterMark:"Select a datetime",minDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),(new Date).getHours()),dateFormat:"yyyy-MM-dd",agenda:"The agenda of this session is ...",showLoader:!1,showForm:!0,showError:!1,showSuccess:!1,errorMessage:"You have another session booking overlapped.",form:{title:"",date:new Date,time:"",lecturers:[],students:[],agenda:""},disableSubmit:!0,originalStudentDatas:[],options:{customPlacement:function(e,t){e=e.closest(".form-group").querySelector(".error"),e.parentElement.appendChild(t)},rules:{Title:{required:!0},Time:{required:!0},Lecturer:{required:!0},Date:{required:!0},Students:{required:!0}}}}},methods:{handleChange:function(e){this.form.students=[],this.studentDatas=this.originalStudentDatas.filter((function(t){return t.Id!=e.value})),window.console.log("The Condition in the form",this.form.lecturers,this.form)},onFormSubmit:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.formObj.validate(),!t){e.next=18;break}return n=this.lecturers.filter((function(e){return e.email==i.form.lecturers})),r=this.students.filter((function(e){return i.form.students.includes(e.email)})),a=Re({},this.form,{date:this.form.date.toLocaleString(),time:this.form.time.toLocaleString(),lecturers:n,students:r}),window.console.log("FORM",a),this.isLoading=!0,e.prev=7,e.next=10,he(a);case 10:this.formObj.element.reset(),this.isLoading=!1,this.dialog=!0,e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](7),this.isLoading=!1;case 18:case"end":return e.stop()}}),e,this,[[7,15]])})));function t(){return e.apply(this,arguments)}return t}(),navigateTo:function(e){this.$router.push({name:e})}},mounted:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,this.formObj=new X["a"]("#form1",this.options),document.getElementById("submit-btn").onclick=function(e){e.preventDefault(),t.onFormSubmit()},e.next=5,_e("student");case 5:return n=e.sent,r=n.data,e.next=9,_e("lecturer");case 9:a=e.sent,i=a.data,k.state.user.role.includes("student")||k.state.user.role.includes("admin")?(i=i.map((function(e){return{name:e.name,email:e.email}})),k.state.user.role.includes("lecturer")&&!k.state.user.role.includes("admin")&&(i=[{name:k.state.user.name,email:k.state.user.email}])):k.state.user.role.includes("lecturer")&&(i=[{name:k.state.user.name,email:k.state.user.email}]),r=r.map((function(e){return{Id:e.email,email:e.email,name:e.name}})),this.students=r,this.lecturers=i,this.studentDatas=r,this.originalStudentDatas=r,this.lecturerDatas=i.map((function(e){return e.email})),window.console.log("STUDENTS",r);case 19:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},Ne=Ae,qe=(n("88d2"),n("b0af")),Me=n("99d9"),Fe=n("169a"),ze=n("2fa4"),$e=Object(c["a"])(Ne,ie,se,!1,null,null,null),Ue=$e.exports;u()($e,{VBtn:L["a"],VCard:qe["a"],VCardActions:Me["a"],VCardTitle:Me["c"],VDialog:Fe["a"],VSpacer:ze["a"]});var Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit-session",staticStyle:{height:"100%",display:"flex","flex-direction":"column",padding:"20px 30px"}},[n("loading",{attrs:{active:e.isLoading,"can-cancel":!0,"on-cancel":e.onCancel,"is-full-page":e.fullPage},on:{"update:active":function(t){e.isLoading=t}}}),n("v-dialog",{attrs:{"max-width":"290"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Class is updated!")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.navigateTo("Sessions")}}},[e._v(" Go To All Classes ")])],1)],1)],1),n("div",{staticStyle:{"font-size":"1.5em","font-weight":"200"}},[e._v("Edit Class")]),n("form",{staticStyle:{width:"100%",display:"flex","flex-direction":"column","flex-grow":"1"},attrs:{id:"form1"}},[n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-textbox",{attrs:{name:"Title","data-required-message":"* Enter the title of the class",required:"","data-msg-containerid":"titleError",id:"textbox",floatLabelType:"Auto",placeholder:"Title of The class"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),n("div",{attrs:{id:"titleError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-datepicker",{attrs:{value:e.form.date,strictMode:!0,format:e.dateFormat,placeholder:"Pick a date",name:"Date","data-required-message":"* Pick the date of the class",required:"","data-msg-containerid":"dateError",min:e.minDate}})],1),n("div",{attrs:{id:"dateError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-timepicker",{attrs:{placeholder:"Pick a time",name:"Time","data-required-message":"* Pick the time of the class",required:"","data-msg-containerid":"timeError"},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1),n("div",{attrs:{id:"timeError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-dropdownlist",{attrs:{dataSource:e.lecturerDatas,id:"dropdownlist",placeholder:"Pick a lecturer",name:"Lecturer","data-required-message":"* Pick a lecturer for the class",required:"","data-msg-containerid":"lecturerError"},on:{change:e.handleChange},model:{value:e.form.lecturers,callback:function(t){e.$set(e.form,"lecturers",t)},expression:"form.lecturers"}})],1),n("div",{attrs:{id:"lecturerError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-multiselect",{attrs:{id:"multiselect",dataSource:e.studentDatas,placeholder:"Select students",mode:"CheckBox",fields:e.fields,showSelectAll:e.showSelectAll,selectAllText:"Select All",unSelectAllText:"unSelect All",name:"Students","data-required-message":"* Pick students",required:"","data-msg-containerid":"studentsError"},model:{value:e.form.students,callback:function(t){e.$set(e.form,"students",t)},expression:"form.students"}})],1),n("div",{attrs:{id:"studentsError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-textbox",{attrs:{multiline:!0,name:"Agenda",id:"textbox",floatLabelType:"Auto",placeholder:"Agenda of The Session"},model:{value:e.form.agenda,callback:function(t){e.$set(e.form,"agenda",t)},expression:"form.agenda"}})],1)]),e._m(0)])],1)},He=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"submitBtn"},[n("button",{staticClass:"submit-btn e-btn",staticStyle:{width:"100%"},attrs:{id:"submit-btn"}},[e._v("Submit")])])}],Ye=function(e){return q.post("/live/".concat(e))},We=Ye;function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Object(oe["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}le["a"].Inject(ue["a"]),r["a"].use(ce["a"]),r["a"].use(J["a"]),r["a"].use(me["a"]),r["a"].use(de["a"]),r["a"].use(Oe["a"]);var Xe={name:"Dashboard",components:{Loading:Y.a},data:function(){return{isLoading:!1,fullPage:!0,fields:{text:"email",value:"Id"},showSelectAll:!0,dialog:!1,studentDatas:[],lecturerDatas:[],minDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),(new Date).getHours()),dateFormat:"yyyy-MM-dd",agenda:"The agenda of this session is ...",showLoader:!1,showForm:!0,showError:!1,showSuccess:!1,form:{title:"",date:new Date,time:"",lecturers:[],students:[],agenda:""},originalStudentDatas:[],sessionId:"",options:{customPlacement:function(e,t){e=e.closest(".form-group").querySelector(".error"),e.parentElement.appendChild(t)},rules:{Title:{required:!0},Time:{required:!0},Lecturer:{required:!0},Date:{required:!0},Students:{required:!0}}}}},methods:{handleChange:function(e){this.studentDatas=this.originalStudentDatas.filter((function(t){return t.Id!=e.value})),window.console.log("The Condition in the form",this.form.students,this.form)},onFormSubmit:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.formObj.validate(),!t){e.next=18;break}return n=this.lecturers.filter((function(e){return e.email==i.form.lecturers})),r=this.students.filter((function(e){return i.form.students.includes(e.email)})),a=Je({},this.form,{date:this.form.date.toLocaleString(),time:this.form.time.toLocaleString(),lecturers:n,students:r}),window.console.log("FORM",a),this.isLoading=!0,e.prev=7,e.next=10,je(this.sessionId,a);case 10:this.formObj.element.reset(),this.isLoading=!1,this.dialog=!0,e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](7),this.isLoading=!1;case 18:case"end":return e.stop()}}),e,this,[[7,15]])})));function t(){return e.apply(this,arguments)}return t}(),navigateTo:function(e){this.$router.push({name:e})}},mounted:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,this.formObj=new X["a"]("#form1",this.options),document.getElementById("submit-btn").onclick=function(e){e.preventDefault(),t.onFormSubmit()},e.next=5,_e("student");case 5:return n=e.sent,r=n.data,e.next=9,_e("lecturer");case 9:return a=e.sent,i=a.data,k.state.user.role.includes("student")||k.state.user.role.includes("admin")?(i=i.map((function(e){return{name:e.name,email:e.email}})),k.state.user.role.includes("lecturer")&&!k.state.user.role.includes("admin")&&(i=[{name:k.state.user.name,email:k.state.user.email}])):k.state.user.role.includes("lecturer")&&(i=[{name:k.state.user.name,email:k.state.user.email}]),r=r.map((function(e){return{Id:e.email,email:e.email,name:e.name}})),this.students=r,this.lecturers=i,this.studentDatas=r,this.originalStudentDatas=r,this.lecturerDatas=i.map((function(e){return e.email})),this.sessionId=this.$route.params.id,e.next=21,We(this.sessionId);case 21:s=e.sent,o=s.data.sessionData,window.console.log(o),this.form=Je({},this.form,{title:o.title,agenda:o.agenda,date:o.date,time:o.time,lecturers:o.lecturers[0].email,students:o.students.map((function(e){return e.email}))}),window.console.log("STUDENTS",r);case 26:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},Ke=Xe,Qe=(n("1ede"),Object(c["a"])(Ke,Be,He,!1,null,null,null)),Ze=Qe.exports;u()(Qe,{VBtn:L["a"],VCard:qe["a"],VCardActions:Me["a"],VCardTitle:Me["c"],VDialog:Fe["a"],VSpacer:ze["a"]});var et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{position:"relative"}},[n("v-dialog",{attrs:{"max-width":"290"},model:{value:e.remove,callback:function(t){e.remove=t},expression:"remove"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Delete this class ?")]),n("v-card-text",[e._v(" Are you sure you want to delete the class? ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.remove=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.deleteClass}},[e._v(" Yes, delete ")])],1)],1)],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.sessions,"sort-by":"title"},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[e._v("My Class")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-spacer"),n("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[e.isAdmin||e.isLecturer?n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.navigateToNewClass}},[e._v("New Class")]):e._e()]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}})],1)]},proxy:!0},{key:"item.action",fn:function(t){var r=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.navigateTo(r.index)}}},[e._v(" launch ")]),e.isAdmin||e.isLecturer?n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(r)}}},[e._v(" mdi-delete ")]):e._e()]}},{key:"no-data",fn:function(){return[n("div",[e._v("No class yet.")])]},proxy:!0}])})],1)},tt=[],nt=(n("99af"),{components:{},mounted:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge();case 3:t=e.sent,n=t.data,k.state.user.role.includes("admin")||(n=n.filter((function(e){var t=e.lecturers[0].email,n=e.students.map((function(e){return e.email})).concat(t);return window.console.log(e.lecturers[0]._id,e.students,n.includes(k.state.user.email)),n.includes(k.state.user.email)}))),this.sessions=n.map((function(e,t){return window.console.log("Inside the sesison",e.lecturers[0].name),{index:t+1,title:e.title,lecturer:e.lecturers[0],date:e.date,_id:e._id,students:e.students}})),e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},data:function(){return{scrolled:!1,lastPosition:0,sessions:[],headers:[{text:"No.",value:"index"},{text:"Course",value:"title"},{text:"Lecturer Name",value:"lecturer.name"},{text:"Date started",value:"date"},{text:"Action",value:"action"}],selected:0,dialog:!1,remove:!1}},methods:{editItem:function(e){window.console.log(e.index)},deleteClass:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.sessions[this.selected]._id,e.next=3,ye(t);case 3:n=e.sent,r=n.data,this.sessions=r.map((function(e,t){return window.console.log("Inside the sesison",e.lecturers[0].name),{index:t+1,title:e.title,lecturer:e.lecturers[0],date:e.date,_id:e._id,students:e.students}})),this.remove=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deleteItem:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.remove=!0,this.selected=t.index-1;case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),navigateToNewClass:function(){this.$router.push({name:"NewSession"})},navigateTo:function(e){window.console.log(this.sessions);var t,n=this.sessions[e-1];if(window.console.log(n),window.console.log(n),n.lecturer.email==k.state.user.email){var r={sessionId:this.sessions[e-1]._id,email:k.state.user.email,role:n.lecturer.role,name:k.state.user.name};window.console.log("OBJ",r),k.commit("logInSession",r)}else{t=n.students.filter((function(e){return e.email==k.state.user.email}))[0],window.console.log("RES",t);var a={sessionId:this.sessions[e-1]._id,email:k.state.user.email,role:t.role,name:k.state.user.name};window.console.log("OBJ",a),k.commit("logInSession",a)}this.$router.push({name:"Live",params:{id:n._id}})},handleScroll:function(e){window.console.log(this.scrolled,window.scrollY,e),this.lastPosition<e.target.scrollTop&&e.target.scrollTop>50&&(this.scrolled=!0),this.lastPosition>e.target.scrollTop&&(this.scrolled=!1),this.lastPosition=e.target.scrollTop}},computed:{isAdmin:function(){return k.state.user.role.includes("admin")},isLecturer:function(){return k.state.user.role.includes("lecturer")}}}),rt=nt,at=(n("885b"),n("8fea")),it=n("ce7e"),st=n("132d"),ot=n("71d9"),ct=n("2a7f"),lt=Object(c["a"])(rt,et,tt,!1,null,"54ca0c94",null),ut=lt.exports;u()(lt,{VBtn:L["a"],VCard:qe["a"],VCardActions:Me["a"],VCardText:Me["b"],VCardTitle:Me["c"],VDataTable:at["a"],VDialog:Fe["a"],VDivider:it["a"],VIcon:st["a"],VSpacer:ze["a"],VToolbar:ot["a"],VToolbarTitle:ct["b"]});var dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"live-test"},[r("v-snackbar",{attrs:{top:!0,"multi-line":!0},model:{value:e.screenShareSnackbar,callback:function(t){e.screenShareSnackbar=t},expression:"screenShareSnackbar"}},[e._v(" You can only have 1 screenshare tab. "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.screenShareSnackbar=!1}}},[e._v(" Close ")])],1),r("v-dialog",{attrs:{"max-width":"290"},model:{value:e.showEndSession,callback:function(t){e.showEndSession=t},expression:"showEndSession"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Are you sure you want to end the session?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:this.endSession}},[e._v("Yes")]),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:this.hideEndSessionModal}},[e._v("Cancel")])],1)],1)],1),r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition","max-width":"990"},model:{value:e.library,callback:function(t){e.library=t},expression:"library"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.library=!1}}},[r("v-icon",[e._v("mdi-close")])],1),r("v-toolbar-title",[e._v("Media Library")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){e.library=!1}}},[e._v("Save")])],1)],1),r("v-row",[r("v-col",{staticStyle:{display:"flex","align-items":"center"},attrs:{cols:"6"}},[r("v-file-input",{attrs:{label:"File input",accept:".pptx,.ppt,.mp4"},on:{change:e.onUploadMedia}})],1),r("v-col",{staticStyle:{display:"flex","align-items":"center"},attrs:{cols:"2"}},[r("v-btn",{on:{click:e.submitMedia}},[e._v("Submit")])],1)],1),r("v-row",{staticStyle:{padding:"20px"}},[r("v-data-table",{staticClass:"elevation-1",staticStyle:{width:"100%"},attrs:{headers:e.headers,items:e.files},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[e._v("My Files")]),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),r("v-spacer")],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.addFile(n.index)}}},[e._v(" launch ")]),r("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteFile(n.index)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[r("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}])})],1)],1)],1),r("v-navigation-drawer",{staticStyle:{"z-index":"1000"},attrs:{absolute:"",width:"25%",right:!0,"hide-overlay":!0},model:{value:e.messageDrawer,callback:function(t){e.messageDrawer=t},expression:"messageDrawer"}},[r("div",{staticStyle:{display:"flex","flex-direction":"column",height:"100%"}},[r("div",[r("div",{staticStyle:{padding:"0 10px",display:"flex","justify-content":"space-between","align-items":"center",width:"100%"}},[r("div",[e._v("Chat")]),r("div",[r("v-btn",{staticClass:"ma-2",attrs:{tile:"",small:"",color:"black",icon:""},on:{click:function(t){e.messageDrawer=!1}}},[r("v-icon",[e._v("cancel")])],1)],1)])]),r("v-divider"),r("div",{staticClass:"chatbox"},[r("div",{staticClass:"chatbox__message",attrs:{id:"chatbox"}},e._l(e.messages,(function(t){return r("div",{key:t,class:{message:!0,"message--right":t.name==e.name}},[r("div",{staticClass:"message__content"},[e._v(e._s(t.body))]),r("div",{staticClass:"message__details"},[r("div",{staticClass:"message__sender"},[e._v(e._s(t.name==e.name?"me":t.name))]),r("div",{staticClass:"message__time"},[e._v(e._s(new Date(t.timeCreated).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})))])])])})),0),r("div",{staticClass:"chatbox__input"},[r("div",{staticClass:"chatbox__textbox"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"chatbox__mou",attrs:{placeholder:"Type your message here"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}})]),r("div",{staticClass:"chatbox__icon"},[r("v-btn",{attrs:{tile:"",color:"white",icon:""},on:{click:e.sendMessage}},[r("v-icon",[e._v("send")])],1)],1)])])],1)]),r("div",{staticClass:"live-navbar",staticStyle:{height:"80px"}},[e.isLecturer?r("div",{staticStyle:{height:"100%"}},[r("v-row",{staticStyle:{height:"100%"}},[r("v-col",{staticStyle:{display:"flex","align-items":"center"},attrs:{cols:"10"}},[r("div",{staticClass:"pl-3",staticStyle:{display:"flex","align-items":"center"}},[r("div",{staticClass:"mr-5",staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[r("v-img",{staticStyle:{margin:"10px"},attrs:{src:n("f8a2"),"max-width":"40"}}),r("span",{staticStyle:{"font-weight":"800"}},[e._v("Tyrannus Online Seminary")])],1),r("span",{staticStyle:{"font-weight":"800"}},[e._v("Lecturer Portal")]),e._v(" "),r("span",{staticClass:"mx-3"},[e._v("Course: "),r("span",{staticStyle:{"font-weight":"800"}},[e._v(e._s(e.sessionTitle))])]),e._v(" Lecturer: "),r("span",{staticStyle:{"font-weight":"800"}},[e._v(e._s(e.name))])])]),r("v-col",{staticStyle:{display:"flex","justify-content":"flex-end"},attrs:{cols:"2"}},[r("div",{staticStyle:{display:"flex","align-items":"center"}},[r("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"white"},on:{click:e.handleRecording}},[e._v(" "+e._s(this.recording?"Stop Recording":"Record")+" ")]),r("v-btn",{staticClass:"ma-2",attrs:{tile:"",small:"",color:"white",icon:""},on:{click:e.openChat}},[r("v-icon",[e._v("message")])],1),r("v-menu",{attrs:{transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({staticClass:"ma-2",attrs:{tile:"",small:"",color:"white",icon:""}},n),[r("v-icon",[e._v("add_circle_outline")])],1)]}}],null,!1,1515760397)},[r("v-list",[r("v-list-item",{on:{click:e.addScreenShare}},[r("v-list-item-title",[e._v("Screen Share")])],1),r("v-list-item",{on:{click:e.addWhiteBoard}},[r("v-list-item-title",[e._v("Whiteboard")])],1),r("v-list-item",{on:{click:function(t){e.library=!e.library}}},[r("v-list-item-title",[e._v("File/Video")])],1),r("v-list-item",{on:{click:e.addYoutube}},[r("v-list-item-title",[e._v("Youtube")])],1),r("v-list-item",{on:{click:e.addEditor}},[r("v-list-item-title",[e._v("Text Editor")])],1)],1)],1),r("v-menu",{attrs:{transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({staticClass:"ma-2",attrs:{tile:"",small:"",color:"white",icon:""}},n),[r("v-icon",[e._v("settings")])],1)]}}],null,!1,2840846459)},[r("v-list",[r("v-list-item",{on:{click:e.goToAllClass}},[r("v-list-item-title",[e._v("All Class")])],1),r("v-list-item",{on:{click:this.showEndSessionModal}},[r("v-list-item-title",[e._v("Exit Class")])],1)],1)],1)],1)])],1)],1):r("div",{staticStyle:{height:"80px"}},[r("v-row",[r("v-col",{staticStyle:{display:"flex","align-items":"center"},attrs:{cols:"11"}},[r("div",{staticClass:"pl-3"},[r("span",{staticClass:"mx-2"},[e._v("Tyrannus Online Seminary")]),e._v(" Student Portal "),r("span",{staticClass:"mx-3",staticStyle:{"font-weight":"600"}},[e._v("Course: "+e._s(e.sessionTitle))]),e._v(" Student: "+e._s(e.name))])]),r("v-col",{attrs:{cols:"1"}},[r("v-btn",{staticClass:"ma-2",attrs:{tile:"",small:"",color:"white",icon:""},on:{click:e.openChat}},[r("v-icon",[e._v("message")])],1),r("v-menu",{attrs:{transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({staticClass:"ma-2",attrs:{tile:"",small:"",color:"white",icon:""}},n),[r("v-icon",[e._v("settings")])],1)]}}])},[r("v-list",[r("v-list-item",{on:{click:e.goToAllClass}},[r("v-list-item-title",[e._v("All Class")])],1),r("v-list-item",{on:{click:this.showEndSessionModal}},[r("v-list-item-title",[e._v("Exit Class")])],1)],1)],1)],1)],1)],1)]),r("div",{staticClass:"live-con",staticStyle:{height:"calc(100vh - 80px)"}},[r("div",{staticClass:"live-container",staticStyle:{height:"100%"}},[r("div",{class:{workspace:!0},staticStyle:{display:"flex","flex-direction":"column"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.isLecturer,expression:"isLecturer"}],staticClass:"tabs",staticStyle:{"background-color":"#212121","z-index":"100",position:"relative",height:"50px","overflow-x":"scroll"}},[r("div",{staticStyle:{display:"flex","background-color":"#212121"}},[e._l(e.workSpaceTabs,(function(t,n){return r("div",{key:n,staticClass:"tab",class:{tab:!0,"tab-border":e.active_tab==n},staticStyle:{display:"flex","align-items":"center"},on:{click:function(t){return e.changeTab(n)}}},[r("v-icon",{attrs:{color:"white"},on:{click:function(t){return e.closeTab(n)}}},[e._v("cancel")]),r("span",{staticClass:"ml-2",staticStyle:{color:"white"}},[e._v(e._s(t.name))])],1)})),r("v-overlay",{attrs:{absolute:!0,value:!e.isLecturer,color:"transparent"}})],2)]),r("div",{staticClass:"screens"},[r("div",{staticClass:"screen-container"},[r("div",{staticStyle:{height:"100%","background-color":"#212121"}},e._l(e.workSpaceTabs,(function(t,n){return r("div",{directives:[{name:"show",rawName:"v-show",value:e.active_tab==n,expression:"active_tab == index"}],key:t,staticClass:"screen"},[r("v-overlay",{attrs:{absolute:!0,value:!e.isLecturer&&"SCREENSHARE"!=t.name,color:"transparent"}}),"SCREENSHARE"==t.name?r("div",{staticClass:"screen-share",staticStyle:{height:"100%","background-color":"#212121"}},[r("div",{staticClass:"screen-children",attrs:{id:"screen-preview"}}),r("div",{staticClass:"share-my-screen"},[!e.sharingMyScreen&&e.isLecturer?r("v-btn",{attrs:{color:"green darken-1",dark:"",tile:""},on:{click:e.initializeScreenSharing}},[e._v("Share my screen")]):e._e(),e.sharingMyScreen||e.isLecturer?e._e():r("v-btn",{attrs:{color:"green darken-1",dark:"",tile:""}},[e._v("Waiting for Lecturer to share screen ..")]),e.sharingMyScreen&&e.isLecturer?r("v-btn",{staticClass:"mx-2 screen-sharing-control",attrs:{fab:"",dark:"",large:"",color:"purple"},on:{click:e.stopScreenSharing}},[r("v-icon",{attrs:{dark:""}},[e._v("stop_screen_share")])],1):e._e(),e.sharingMyScreen&&!e.fullScreen?r("v-btn",{staticClass:"mx-2 screen-sharing-control",attrs:{fab:"",dark:"",large:"",color:"purple"},on:{click:e.handleFullScreen}},[r("v-icon",{attrs:{dark:""}},[e._v("fullscreen")])],1):e._e()],1)]):e._e(),"DRAWING"==t.name?r("div",{staticClass:"screen-children whiteboard"},[r("div",{staticClass:"signature-pad"},[r("drawing-board",{attrs:{id:"hello-"+n,role:e.role,sessionId:e.getSessionId,email:e.email,index:n,bigData:t.bigData}})],1)]):e._e(),"TEXTEDITOR"==t.name?r("div",{staticClass:"screen-children",attrs:{id:"screen-editor","data-editor":n}},[r("quill-editor",{ref:"myQuillEditor",refInFor:!0,attrs:{options:e.editorOption},model:{value:t.textData,callback:function(n){e.$set(t,"textData",n)},expression:"item.textData"}})],1):e._e(),"VIDEO"==t.name?r("div",{staticClass:"video-tab",staticStyle:{"background-color":"#212121"}},[r("div",{staticClass:"video-upload",attrs:{id:"video-upload-"+n}},[r("v-container",{staticStyle:{height:"100%","flex-grow":"1"}},[r("video-player",{ref:"videoPlayer",refInFor:!0,staticClass:"video-player-box",attrs:{options:t.option},on:{canplay:function(t){return e.onPlayerCanplay(t,n)},play:function(t){return e.onPlayerPlayVideo(n)},pause:function(t){return e.onPlayerPauseVideo(n)}}})],1)],1)]):e._e(),"YOUTUBE"==t.name?r("div",{staticClass:"video-tab",staticStyle:{"background-color":"#212121"}},[r("div",{staticClass:"video-upload",attrs:{id:"video-upload-"+n}},[r("v-container",{staticClass:"youtube-text-field-container",staticStyle:{height:"100%","flex-grow":"1",display:"flex","flex-direction":"column"}},[e.isLecturer?r("v-row",{staticClass:"youtube-text-field",staticStyle:{"flex-grow":"0"}},[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{dark:"",label:"Youtube Link",placeholder:"Enter the youtube URL here"},model:{value:t.youtubeUrl,callback:function(n){e.$set(t,"youtubeUrl",n)},expression:"item.youtubeUrl"}})],1),r("v-col",{attrs:{cols:"2"}},[r("v-btn",{attrs:{block:""},on:{click:function(t){return e.submitVideoLink(n)}}},[e._v("Get Video")])],1)],1):e._e(),r("v-row",{staticClass:"px-2",staticStyle:{"flex-grow":"3"}},[r("youtube",{ref:"youtube-"+n,refInFor:!0,staticStyle:{width:"100%",height:"100%"},attrs:{"video-id":t.youtubeId},on:{paused:function(t){return e.pauseYoutube(n)},playing:function(t){return e.playYoutube(n)}}})],1)],1)],1)]):e._e(),"FILEVIEWER"==t.name?r("div",{staticClass:"file-viewer-tab",staticStyle:{"background-color":"#212121"}},[r("div",{class:"powerpoint-viewer-"+n,staticStyle:{height:"100%",padding:"5px",position:"relative"}},[r("div",{staticClass:"isLoading",staticStyle:{position:"absolute",top:"0",bottom:"0",right:"0",left:"0","z-index":"1000","background-color":"rgba(255,255,255,0.4)",display:"none"}},[r("v-progress-circular",{attrs:{size:70,width:7,color:"#212121",indeterminate:""}}),r("div",{staticStyle:{color:"white","background-color":"#212121",padding:"5px",margin:"20px"}},[e._v("Loading screen's at student'side")])],1),r("div",{staticStyle:{position:"absolute",top:"0",bottom:"0",right:"0",left:"0",display:"flex","align-items":"center","justify-content":"center"}},[r("div",{staticClass:"powerpoint-viewer",staticStyle:{display:"flex","justify-content":"space-between",width:"100%","z-index":"5"}},[e.isLecturer?r("v-btn",{staticClass:"mx-2 screen-sharing-control",attrs:{fab:"",dark:"",large:"",color:"transparent"},on:{click:function(r){return e.prevSlide(t.currentPage,n)}}},[r("v-icon",{attrs:{dark:""}},[e._v("keyboard_arrow_left")])],1):e._e(),e.isLecturer?r("v-btn",{staticClass:"mx-2 screen-sharing-control",attrs:{fab:"",dark:"",large:"",color:"transparent"},on:{click:function(r){return e.nextSlide(t.numPages,t.currentPage,n)}}},[r("v-icon",{attrs:{dark:""}},[e._v("keyboard_arrow_right")])],1):e._e()],1),r("div",{staticStyle:{position:"absolute",bottom:"0",right:"1%"}},[r("v-btn",{staticClass:"mx-2 screen-sharing-control fullscreen-powerpoint",attrs:{fab:"",dark:"",large:"",color:"transparent"},on:{click:function(t){return e.handlePowerPointFullScreen(n)}}},[r("v-icon",{attrs:{dark:""}},[e._v("fullscreen")])],1)],1)]),e._l(t.images,(function(n,a){return r("div",{directives:[{name:"show",rawName:"v-show",value:a==t.currentPage,expression:"i == item.currentPage"}],key:n,staticStyle:{height:"100%"}},[r("v-img",{staticStyle:{width:"80%",margin:"auto"},attrs:{src:n},scopedSlots:e._u([{key:"placeholder",fn:function(){return[r("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"white"}})],1)]},proxy:!0}],null,!0)})],1)}))],2)]):e._e()],1)})),0)])])]),r("div",{staticClass:"videos"},[r("div",{staticClass:"lecturer-container"},[r("div",{staticClass:"lecturer",attrs:{id:"lecturer-0"}},[r("div",{staticClass:"zero-lecturer-label"},[e._v(e._s(e.zerolecturer.name))])])]),r("div",{staticClass:"students-container"},[r("v-row",{attrs:{"no-gutters":""}},e._l(e.studentsRole,(function(t){return r("v-col",{key:t,staticClass:"student",attrs:{cols:"4",id:t.role}},[r("div",{staticClass:"video-label"},[r("div",{staticClass:"student-control-buttons"},[e.isLecturer&&t.mute?r("v-btn",{attrs:{color:"white",fab:""},on:{click:function(n){return e.turnStudentOn(t.role)}}},[r("v-icon",{staticClass:"video-call",attrs:{dark:""}},[e._v("mic_off")])],1):e._e(),e.isLecturer&&!t.mute?r("v-btn",{attrs:{color:"white",fab:""},on:{click:function(n){return e.turnStudentOff(t.role)}}},[r("v-icon",{staticClass:"video-call",attrs:{dark:""}},[e._v("mic")])],1):e._e(),r("div",{staticClass:"video-label-email",staticStyle:{width:"100%","text-align":"center"}},[e._v(e._s(t.name))])],1)])])})),1)],1),r("div",{staticClass:"videos-control-buttons"},[r("div",{staticClass:"video-control-buttons-other"},[e.see?e._e():r("v-btn",{staticClass:"control-button",attrs:{color:"black",dark:""},on:{click:function(t){e.publisher.publishVideo(!1),e.see=!0}}},[r("v-icon",{staticClass:"video-call"},[e._v("videocam")])],1),e.see?r("v-btn",{staticClass:"control-button",attrs:{color:"black",dark:""},on:{click:function(t){e.publisher.publishVideo(!0),e.see=!1}}},[r("v-icon",{staticClass:"video-call"},[e._v("videocam_off")])],1):e._e(),e.muted?e._e():r("v-btn",{staticClass:"control-button",attrs:{color:"black",dark:""},on:{click:this.muteButton}},[r("v-icon",{staticClass:"voice-call"},[e._v("mic")])],1),e.muted?r("v-btn",{staticClass:"control-button",attrs:{color:"black",dark:""},on:{click:this.unmuteButton}},[r("v-icon",{staticClass:"voice-call"},[e._v("mic_off")])],1):e._e()],1),r("div",{staticClass:"video-control-buttons-end"},[r("v-btn",{attrs:{color:"error control-button"},on:{click:this.showEndSessionModal}},[r("v-icon",{staticClass:"end-call"},[e._v("phone")])],1)],1)])])])])],1)},mt=[],ft=(n("7db0"),n("c740"),n("4ec9"),n("e25e"),n("25f0"),n("3ca3"),n("4d90"),n("ddb0"),n("2b3d"),n("2909")),pt=(n("eb85"),n("3835")),vt=n("33ba"),ht="46594372",bt={insertMode:"append",width:"100%",height:"100%",style:{buttonDisplayMode:"off",nameDisplayMode:"off"}},gt=bt,wt={insertMode:"append",width:"100%",height:"100%",style:{buttonDisplayMode:"off",nameDisplayMode:"off"}},yt=wt;function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){Object(oe["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var St=function(e){if(e)throw e},jt=function(e){return"lecturer"==e.split("-")[0]},Ot=function(e,t,n,a,i){var s,o=e.role,c=e.email,l=e.addStudent,u=e.removeStudent,d=e.name,m=vt.initSession(ht,n);jt(o)||l(o,c,d),r["a"].nextTick((function(){s=vt.initPublisher(o,kt({},gt,{name:"".concat(o," ").concat(c)}),St),s.setStyle({buttonDisplayMode:"off"}),window.console.log(s,o),window.console.log(m),m.connect(t,(function(e){if(e)throw e;m.publish(s,St)})),m.on("streamCreated",(function(e){var t=e.stream.name.split(" "),n=Object(pt["a"])(t,2),a=n[0],s=n[1];window.console.log("Role Student",a,s),jt(a)||document.getElementById(a)||l(a,s,d),r["a"].nextTick((function(){if("screen"===e.stream.videoType)return i(),void m.subscribe(e.stream,a,kt({},yt,{fitMode:"contain"}),St);m.subscribe(e.stream,a,yt,St)}))})),m.on("streamDestroyed",(function(e){var t=e.stream.name.split(" "),n=Object(pt["a"])(t,2),r=n[0],a=n[1];window.console.log(r,a),u(r,a)})),a(s,m)}))},Ct=Ot,_t=function(){var e=!0;return vt.checkScreenSharingCapability((function(t){t.supported&&!1!==t.extensionRegistered||(e=!1)})),e},Tt=_t,Lt=n("1157"),Et=n.n(Lt),Pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;t&&Et()(".screen-share").first().prepend('<div class="screen-children" id="screen-preview"></div>');var r=vt.initPublisher("screen-preview",{fitMode:"contain",videoSource:"screen",width:"100%",height:"100%",name:"screen-preview",publishAudio:!0},(function(t){t||e.publish(r,(function(e){e||(window.console.log("RESULT",e),n())}))}));return r},It=Pt,Dt=function(e,t,n,r){return q.post("/editorText/".concat(n,"/sendEditorText"),{data:e,index:t,email:r})},Vt=Dt;function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){Object(oe["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nt=function(e,t,n){return q.post("/tab/".concat(t,"/new"),At({},e,{email:n}))},qt=Nt,Mt=function(e,t,n){return q.post("/tab/".concat(t,"/swap"),{index:e,email:n})},Ft=Mt,zt=function(e,t,n){return q.post("/tab/".concat(e,"/remove"),{email:t,index:n})},$t=zt,Ut=function(e){return q.post("/tab/".concat(e,"/all"))},Bt=Ut,Ht=n("8055"),Yt=n.n(Ht),Wt=n("953d"),Gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isLecturer,expression:"isLecturer"}],staticClass:"whiteboard-toolbar"},[n("v-menu",{attrs:{disabled:e.disabled,absolute:e.absolute,"open-on-hover":e.openOnHover,"close-on-click":e.closeOnClick,"close-on-content-click":e.closeOnContentClick,"offset-x":e.offsetX,"offset-y":e.offsetY},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("div",e._g({staticClass:"toolbar-item",on:{click:e.draw}},r),[n("i",{staticClass:"material-icons white-icon"},[e._v("color_lens")])])]}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("div",{staticClass:"toolbar-item-menu",staticStyle:{"background-color":"white"}},e._l(e.colors,(function(t,r){return n("div",{key:t,staticClass:"item",on:{click:function(t){return e.setColor(r)}}},[n("div",{staticClass:"item",style:{backgroundColor:t,width:"30px",height:"30px",borderRadius:"30px"}})])})),0)]),n("v-menu",{attrs:{disabled:e.disabled,absolute:e.absolute,"open-on-hover":e.openOnHover,"close-on-click":e.closeOnClick,"close-on-content-click":e.closeOnContentClick,"offset-x":e.offsetX,"offset-y":e.offsetY},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("div",e._g({staticClass:"toolbar-item",on:{click:e.activatePen}},r),[n("i",{staticClass:"material-icons white-icon"},[e._v("edit")])])]}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("div",{staticClass:"toolbar-item-menu",staticStyle:{"background-color":"white"}},[n("div",{staticClass:"item",on:{click:function(t){return e.setPenSize(0)}}},[n("div",{staticClass:"item-outer-1 black-background"})]),n("div",{staticClass:"item",on:{click:function(t){return e.setPenSize(1)}}},[n("div",{staticClass:"item-outer-2 black-background"})]),n("div",{staticClass:"item",on:{click:function(t){return e.setPenSize(2)}}},[n("div",{staticClass:"item-outer-3 black-background"})])])]),n("v-menu",{attrs:{disabled:e.disabled,absolute:e.absolute,"open-on-hover":e.openOnHover,"close-on-click":e.closeOnClick,"close-on-content-click":e.closeOnContentClick,"offset-x":e.offsetX,"offset-y":e.offsetY},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("div",e._g({staticClass:"toolbar-item",on:{click:e.activateEraser}},r),[n("i",{staticClass:"material-icons white-icon eraser"},[e._v("crop_portrait")])])]}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("div",{staticClass:"toolbar-item-menu",staticStyle:{"background-color":"white"}},[n("div",{staticClass:"item",on:{click:function(t){return e.setEraserSize(0)}}},[n("div",{staticClass:"item-outer-1 border"})]),n("div",{staticClass:"item",on:{click:function(t){return e.setEraserSize(1)}}},[n("div",{staticClass:"item-outer-2 border"})]),n("div",{staticClass:"item",on:{click:function(t){return e.setEraserSize(2)}}},[n("div",{staticClass:"item-outer-3 border"})])])]),n("div",{staticClass:"toolbar-item",on:{click:function(t){return e.clearCanvas()}}},[e._v("Clear")])],1),n("div",{staticStyle:{height:"calc(100% - 40px)",display:"flex","align-items":"center"},attrs:{id:e.id}})])},Jt=[],Xt=(n("bf19"),n("d4ec")),Kt=n("bee2"),Qt=function(e,t,n,r,a){return q.post("/drawing/".concat(r,"/sendDrawing"),{data:e,stage:t,index:n,email:a})},Zt=Qt,en=n("99de"),tn=n("7e84"),nn=n("262e"),rn=n("faa1"),an=function(e){function t(){return Object(Xt["a"])(this,t),Object(en["a"])(this,Object(tn["a"])(t).apply(this,arguments))}return Object(nn["a"])(t,e),t}(rn),sn=new an,on=sn,cn=n("362d"),ln=n.n(cn),un=function(e){return"lecturer"==e.split("-")[0]},dn=function(){function e(t,n,r,a,i,s){Object(Xt["a"])(this,e),this.sessionId=n,this.role=r,this.isLecturer=!1,this.mode="brush",this.color="#a713f7",this.width=6,this.email=a,this.stageWidth=1e3,this.stageHeight=600,this.index=i,s.length>0?(this.stage=ln.a.Node.create(s,t),this.layer=this.stage.getLayers()[0]):(this.stage=new ln.a.Stage({container:t,width:this.stageWidth,height:this.stageHeight}),this.layer=new ln.a.Layer,this.stage.add(this.layer)),un(this.role)&&(this.isLecturer=!0,this.setUplecturerPrivilege(),this.stage.container().style.cursor="crosshair")}return Object(Kt["a"])(e,[{key:"setMode",value:function(e){this.mode=e}},{key:"setColor",value:function(e){this.color=e}},{key:"setWidth",value:function(e){this.width=e}},{key:"getLayer",value:function(){return this.layer}},{key:"getStage",value:function(){return this.stage}}]),Object(Kt["a"])(e,[{key:"setUplecturerPrivilege",value:function(){var e=this;this.isPaint=!1,this.lastLine,this.stage.on("mousedown touchstart",(function(){e.isPaint=!0;var t=e.stage.getPointerPosition();e.lastLine=new ln.a.Line({stroke:e.color,strokeWidth:e.width,globalCompositeOperation:"brush"==e.mode?"source-over":"destination-out",points:[t.x,t.y]}),e.layer.add(e.lastLine)})),this.stage.on("mouseup touchend",(function(){e.isLecturer&&(Zt(e.lastLine,e.stage.toJSON(),e.index,e.sessionId,e.email),e.isPaint=!1)})),this.stage.on("mousemove touchmove",(function(){if(e.isLecturer&&e.isPaint){var t=e.stage.getPointerPosition(),n=e.lastLine.points().concat([t.x,t.y]);e.lastLine.points(n),e.layer.batchDraw()}}))}}]),e}(),mn={name:"drawing-board",props:["id","role","sessionId","email","index","bigData"],data:function(){return{colors:["#d4f713","#13f7ab","#13f3f7","#13c5f7","#138cf7","#1353f7","#2d13f7","#7513f7","#a713f7","#d413f7","#f713e0","#f71397","#f7135b","#f71313","#f76213","#f79413","#f7e013"],penSizes:[3,6,9],eraserSize:[15,18,20],disabled:!1,absolute:!1,openOnHover:!1,drawing:!1,eraser:!1,closeOnClick:!0,closeOnContentClick:!0,offsetX:!1,offsetY:!0}},mounted:function(){var e=this;this.draw=new dn(this.id,this.sessionId,this.role,this.email,this.index,this.bigData),on.on("event",(function(t){if(t.email!==e.email&&e.index==t.index)if("clear"!=t.data){var n=new ln.a.Line,r=JSON.parse(t.data).attrs;n.setAttrs(r),e.draw.getLayer().add(n),e.draw.getLayer().batchDraw()}else e.draw.getLayer().destroyChildren(),e.draw.getLayer().batchDraw()}))},methods:{setPenSize:function(e){this.isLecturer&&this.draw.setWidth(this.penSizes[e])},activatePen:function(){this.isLecturer&&this.draw.setMode("brush")},activateEraser:function(){this.isLecturer&&this.draw.setMode("eraser")},setEraserSize:function(e){this.isLecturer&&this.draw.setWidth(this.eraserSize[e])},setColor:function(e){this.isLecturer&&(this.draw.setColor(this.colors[e]),this.draw.setMode("brush"))},clearCanvas:function(){this.isLecturer&&(this.draw.getLayer().destroyChildren(),this.draw.getLayer().batchDraw(),Zt("clear",this.draw.getStage().toJSON(),this.index,this.sessionId,this.email))}},computed:{isLecturer:function(){return un(this.role)}}},fn=mn,pn=n("e449"),vn=Object(c["a"])(fn,Gt,Jt,!1,null,"56472b26",null),hn=vn.exports;u()(vn,{VMenu:pn["a"]});var bn=function(e,t){return q.post("/audio/".concat(t,"/turnStudentOn"),{role:e})},gn=bn,wn=function(e,t){return q.post("/audio/".concat(t,"/turnStudentOff"),{role:e})},yn=wn,xn=function(e,t,n,r){return q.post("/video/".concat(e,"/sendVideoLink"),{videoLink:n,email:t,index:r})},kn=xn,Sn=function(e,t,n,r){return q.post("/video/".concat(e,"/sendVideoEvent"),{event:n,email:t,index:r})},jn=Sn,On=function(e,t,n,r){return q.post("/video/".concat(e,"/progress"),{progress:n,email:t,index:r})},Cn=On,_n=function(e,t,n,r){return q.post("/youtube/".concat(e,"/sendVideoEvent"),{event:n,email:t,index:r})},Tn=_n,Ln=function(e,t){return q.post("/pdf/".concat(e,"/new"),t)},En=Ln,Pn=function(e,t,n){return q.post("/file/".concat(e,"/sendFileLink"),{index:n,email:t})},In=Pn,Dn=function(e,t){return q.post("/file/".concat(e,"/deleteFileLink"),{index:t})},Vn=Dn,Rn=function(e,t,n){return q.post("/powerpoint/".concat(e,"/next"),{email:t,fileIndex:n})},An=Rn,Nn=function(e,t,n){return q.post("/powerpoint/".concat(e,"/prev"),{email:t,fileIndex:n})},qn=Nn,Mn=function(e,t,n){return q.post("/screenshare/".concat(e,"/fullscreen"),{fullscreen:t,email:n})},Fn=Mn,zn=function(e,t,n){return q.post("/message/".concat(n),{name:e,body:t})},$n=zn,Un=function(e){return q.post("/messages/".concat(e))},Bn=Un;function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){Object(oe["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wn="VIDEO",Gn="FILEVIEWER",Jn="SCREENSHARE",Xn="DRAWING",Kn="TEXTEDITOR",Qn="YOUTUBE",Zn=new Map([[Wn,{name:Wn,option:null,tabLimit:!1,videoLink:""}],[Jn,{name:Jn,tabLimit:1}],[Xn,{name:Xn,tabLimit:!1}],[Gn,{name:Gn,tabLimit:!1}],[Kn,{name:Kn,tabLimit:!1}],[Qn,{name:Qn,tabLimit:!1,youtubeUrl:"",youtubeId:""}]]),er={name:"Live",components:{quillEditor:Wt["quillEditor"],DrawingBoard:hn},beforeDestroy:function(){this.session.disconnect()},mounted:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,s,o,c,l,u,d,m,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this,this.sessionId=this.$route.params.id,e.next=5,We(this.sessionId);case 5:return n=e.sent,a=n.data,i=a.token,s=a.sessionData,o=s.lecturers,c=s.sessionId,l=s.title,this.sessionTitle=l,this.email=k.state.session.email,this.name=k.state.session.name,this.role=k.state.session.role,this.zerolecturer=o.filter((function(e){return"lecturer-0"==e.role}))[0],e.next=19,Yt.a.connect("".concat("https://vanilla-conferencing-server.herokuapp.com/","live"));case 19:return u=e.sent,e.next=22,Bn(this.sessionId);case 22:return d=e.sent,m=d.data.messages,window.console.log("CHAT",m),this.messages=m,Et()("#chatbox").scrollTop(1e6),u.on("connect",(function(){u.emit("room",t.sessionId),u.on("message",(function(e){window.console.log("Hello World"),window.console.log(e),t.messages=e,r["a"].nextTick((function(){Et()("#chatbox").scrollTop(1e6)}))}))})),e.next=30,Bt(this.sessionId);case 30:f=e.sent,p=f.data.session,this.workSpaceTabs=p.tabs,this.files=p.files.map((function(e,t){return Yn({},e,{index:t+1})})),this.changeTab(p.currentTab),Ct(t,i,c,(function(e,n){t.publisher=e,t.session=n,t.isLecturer||(t.publisher.publishAudio(!1),t.muted=!0)}),(function(){t.sharingMyScreen=!0})),u.on("drawing",(function(e){on.emit("event",e)})),u.on("editortext",(function(e){if(t.email!==e.email){var n=t.workSpaceTabs,r=t.workSpaceTabs[e.index];r.textData=e.data,n[e.index]=r,t.workSpaceTabs=n}})),u.on("new-tab",(function(e){t.email!==e.email&&(t.workSpaceTabs=[].concat(Object(ft["a"])(t.workSpaceTabs),[e]),t.active_tab=t.workSpaceTabs.length-1,r["a"].nextTick((function(){t.isLecturer||Et()(".ql-toolbar").each((function(){Et()(this).hide()}))})))})),u.on("remove-tab",(function(e){t.email!==e.email&&(t.workSpaceTabs=t.workSpaceTabs.filter((function(t,n){return n!=e.index})))})),u.on("tab-swap",(function(e){t.email!==e.email&&(t.active_tab=e.index)})),u.on("turn-student-on",(function(e){e.role==t.role&&(t.publisher.publishAudio(!0),t.muted=!1)})),u.on("turn-student-off",(function(e){e.role==t.role&&(t.publisher.publishAudio(!1),t.muted=!0)})),u.on("video-link",(function(e){if(e.email!==t.email){var n=e.index,r=Object(ft["a"])(t.workSpaceTabs),a=t.workSpaceTabs[n];a.youtubeId=e.videoLink,r[n]=a,t.workSpaceTabs=r,window.console.log(t.workSpaceTabs)}})),u.on("file-link",(function(e){e.email!==t.email&&t.setNewTab(e.file)})),u.on("fullscreen",(function(e){e.email!==t.email&&(t.sharingMyScreen=e.fullscreen)})),u.on("video-event",(function(e){e.email!==t.email&&("play"==e.event?Et()("#video-upload-".concat(e.index)).find(".video-player-box").find("video").get()[0].play():"pause"==e.event&&Et()("#video-upload-".concat(e.index)).find(".video-player-box").find("video").get()[0].pause())})),u.on("youtube-event",(function(e){e.email!==t.email&&("play"==e.event?(window.console.log(e),window.console.log(t.$refs["youtube-".concat(e.index.index)][0]),t.$refs["youtube-".concat(e.index.index)][0].player.seekTo(e.index.duration),t.$refs["youtube-".concat(e.index.index)][0].player.playVideo(),window.console.log(t.$refs)):"pause"==e.event&&(window.console.log(e),window.console.log(t.$refs["youtube-".concat(e.index)][0]),t.$refs["youtube-".concat(e.index)][0].player.pauseVideo()))})),u.on("video-progress",(function(e){window.console.log(e),e.email!==t.email&&(Et()("#video-upload-".concat(e.index)).find(".video-player-box").find("video").get()[0].currentTime=e.progress)})),u.on("powerpoint-next",(function(e){if(e.email!==t.email){var n=t.workSpaceTabs[e.fileIndex];n.currentPage=n.currentPage+1;var r=t.workSpaceTabs;r[e.fileIndex]=n,t.workSpaceTabs=r}})),u.on("powerpoint-prev",(function(e){if(e.email!==t.email){var n=t.workSpaceTabs[e.fileIndex];n.currentPage=n.currentPage-1;var r=t.workSpaceTabs;r[e.fileIndex]=n,t.workSpaceTabs=r}})),Et()(document).on("click",".quill-editor",(function(e){if(t.isLecturer){var n=parseInt(Et()(e.target).closest("#screen-editor").data("editor"));Vt(t.workSpaceTabs[n].textData,n,t.sessionId,t.email)}})),Et()(document).on("keyup",".quill-editor",(function(e){if(t.isLecturer){var n=parseInt(Et()(e.target).closest("#screen-editor").data("editor"));Vt(t.workSpaceTabs[n].textData,n,t.sessionId,t.email)}})),Et()(document).on("keydown",".quill-editor",(function(e){if(t.isLecturer){var n=parseInt(Et()(e.target).closest("#screen-editor").data("editor"));Vt(t.workSpaceTabs[n].textData,n,t.sessionId,t.email)}})),document.addEventListener("fullscreenchange",t.exitHandler),document.addEventListener("webkitfullscreenchange",t.exitHandler),document.addEventListener("mozfullscreenchange",t.exitHandler),document.addEventListener("MSFullscreenChange",t.exitHandler),r["a"].nextTick((function(){t.isLecturer||(Et()(".ql-toolbar").each((function(){Et()(this).hide()})),Et()(".whiteboard-toolbar").each((function(){Et()(this).hide()})))})),e.next=64;break;case 61:throw e.prev=61,e.t0=e["catch"](0),e.t0;case 64:case"end":return e.stop()}}),e,this,[[0,61]])})));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{headers:[{text:"No.",value:"index"},{text:"Name",value:"display_name"},{text:"Actions",value:"actions",sortable:!1}],recorder:null,messages:[],message:"",messageDrawer:!1,tabsData:[],screenShareSnackbar:!1,fullScreen:!1,times:0,sessionTitle:"",currentPage:0,publisher:null,muted:!1,see:!1,session:null,sessionId:"",socket:null,studentsRole:[],zerolecturer:null,showEndSession:!1,library:!1,active_tab:null,workSpaceTabs:[],recordingBlobs:[],files:[],sharingMyScreen:!1,recording:!1,editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]}},playerOptions:[],media:null}},methods:{mergeAudioStreams:function(e,t){var n=new AudioContext,r=n.createMediaStreamDestination(),a=!1,i=!1;if(e&&e.getAudioTracks().length>0){var s=n.createMediaStreamSource(e),o=n.createGain();o.gain.value=.7,s.connect(o).connect(r),a=!0}if(t&&t.getAudioTracks().length>0){var c=n.createMediaStreamSource(t),l=n.createGain();l.gain.value=.7,c.connect(l).connect(r),i=!0}return a||i?r.stream.getAudioTracks():[]},handleRecording:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.recording){e.next=28;break}if(!("MediaRecorder"in window)){e.next=24;break}return e.prev=2,e.next=5,navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});case 5:return t=e.sent,e.next=8,navigator.mediaDevices.getUserMedia({video:!1,audio:!0});case 8:n=e.sent,this.recording=!0,t.getVideoTracks()[0].onended=function(){this.recording=!1}.bind(this),r=[].concat(Object(ft["a"])(t.getVideoTracks()),Object(ft["a"])(this.mergeAudioStreams(t,n))),a=new MediaStream(r),this.recorder=new MediaRecorder(a,{mimeType:"video/webm; codecs=vp8,opus"}),this.recorder.addEventListener("dataavailable",(function(e){"undefined"!==typeof e.data&&0!==e.data.size&&(i.recordingBlobs=[].concat(Object(ft["a"])(i.recordingBlobs),[e.data]))})),this.recorder.start(),e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](2),this.recording=!1,alert("You denied access to the microphone so this demo will not work.");case 22:e.next=26;break;case 24:this.recording=!1,alert("Sorry, your browser doesn't support the MediaRecorder API, so this demo will not work.");case 26:e.next=30;break;case 28:this.recorder.addEventListener("stop",(function(){var e=new Blob(i.recordingBlobs,{type:"video/webm; codecs=vp8,opus"});i.recordingBlobs=[],i.recording=!1;var t=URL.createObjectURL(e),n=document.createElement("a");n.setAttribute("href",t);var r=new Date;n.innerHTML="<span>Download</span>",n.setAttribute("download","recording-".concat(r.getFullYear(),"-").concat((r.getMonth()+1).toString().padStart(2,"0"),"-").concat(r.getDay().toString().padStart(2,"0"),"--").concat(r.getHours().toString().padStart(2,"0"),"-").concat(r.getMinutes().toString().padStart(2,"0"),"-").concat(r.getSeconds().toString().padStart(2,"0"),".webm")),n.id="download",n.style.display="none",document.body.appendChild(n),Et()("#download span").click(),document.body.removeChild(n)})),this.recorder.stop();case 30:case"end":return e.stop()}}),e,this,[[2,18]])})));function t(){return e.apply(this,arguments)}return t}(),sendMessage:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$n(this.name,this.message,this.sessionId);case 2:this.message="";case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openChat:function(){this.messageDrawer=!0},submitVideoLink:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.workSpaceTabs[t].youtubeUrl.split("v=")[1],window.console.log(n),e.next=4,kn(this.sessionId,this.email,n,t);case 4:r=this.workSpaceTabs,a=this.workSpaceTabs[t],a=Yn({},a,{youtubeId:n}),r[t]=a,this.workSpaceTabs=r,this.$forceUpdate();case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),playYoutube:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLecturer){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.$refs["youtube-".concat(t)][0].player.getCurrentTime();case 4:return n=e.sent,window.console.log(this.$refs,"duration",n),e.next=8,Tn(this.sessionId,this.email,"play",{index:t,duration:n});case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),pauseYoutube:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLecturer){e.next=2;break}return e.abrupt("return");case 2:return window.console.log(this.$refs),e.next=5,Tn(this.sessionId,this.email,"pause",t);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),exitHandler:function(){document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||r["a"].nextTick((function(){Et()(".fullscreen-powerpoint").each((function(){Et()(this).show()}))}))},changeTab:function(e){this.active_tab=e,this.handleTabChange(e)},closeTab:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLecturer){e.next=2;break}return e.abrupt("return");case 2:if(this.workSpaceTabs[t].name!=Jn){e.next=5;break}return e.next=5,this.stopScreenSharing();case 5:return this.workSpaceTabs=this.workSpaceTabs.filter((function(e,n){return n!=t})),e.next=8,$t(this.sessionId,this.email,t);case 8:this.changeTab(this.workSpaceTabs.length-1);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),launchFullscreen:function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},exitFullscreen:function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)throw"Fullscreen API is not supported.";document.msExitFullscreen()}},handleFullScreen:function(){if(this.fullScreen)this.exitFullscreen(),this.fullScreen=!1;else{var e=document.getElementsByClassName("screen-share")[0];this.launchFullscreen(e),this.fullScreen=!0}},handlePowerPointFullScreen:function(e){if(this.fullScreen)this.exitFullscreen(),this.fullScreen=!1;else{var t=document.getElementsByClassName("powerpoint-viewer-".concat(e))[0];Et()(".fullscreen-powerpoint").hide(),this.launchFullscreen(t),this.fullScreen=!0}},goToAllClass:function(){var e=this.$router.resolve({name:"Sessions"});window.open(e.href,"_blank")},prevSlide:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t>0)){e.next=11;break}return Et()(".powerpoint-viewer-".concat(n)).find(".isLoading").addClass("showLoading"),e.next=4,qn(this.sessionId,this.email,n);case 4:t-=1,r=this.workSpaceTabs[n],r.currentPage=t,a=this.workSpaceTabs,a[n]=r,this.workSpaceTabs=a,Et()(".powerpoint-viewer-".concat(n)).find(".isLoading").removeClass("showLoading");case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),nextSlide:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(n<t)){e.next=11;break}return Et()(".powerpoint-viewer-".concat(r)).find(".isLoading").addClass("showLoading"),e.next=4,An(this.sessionId,this.email,r);case 4:n+=1,a=this.workSpaceTabs[r],a.currentPage=n,i=this.workSpaceTabs,i[r]=a,this.workSpaceTabs=i,Et()(".powerpoint-viewer-".concat(r)).find(".isLoading").removeClass("showLoading");case 11:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),onUploadMedia:function(e){this.media=e},submitMedia:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,n=new FormData,t.files=[].concat(Object(ft["a"])(t.files),[{display_name:"Loading..."}]),r=this.media.name.split(".").pop(),n.append("pdf",this.media),n.append("extension",r),e.next=8,En(this.sessionId,n);case 8:a=e.sent,i=a.data.file,s=Object(ft["a"])(t.files),s[t.files.length-1]=i,t.files=s.map((function(e,t){return Yn({},e,{index:t+1})}));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTab:function(e,t){return Yn({},Zn.get(e),{},t)},setNewTab:function(e){this.workSpaceTabs=[].concat(Object(ft["a"])(this.workSpaceTabs),[Yn({},e)])},addYoutube:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLecturer){e.next=2;break}return e.abrupt("return");case 2:t=this.getTab(Qn),this.setNewTab(t),this.sendNewTab(t),this.setActiveTab();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addScreenShare:function(){if(this.isLecturer){var e=this.workSpaceTabs.filter((function(e){return e.name==Jn})).length;if(Tt())if(Zn.get(Jn).tabLimit>e){var t=this.getTab(Jn,{sharingMyScreen:!1});this.setNewTab(t),this.setActiveTab(),this.sendNewTab(t)}else this.screenShareSnackbar=!0;else alert("Screen sharing is not supported in this browser.")}},addEditor:function(){if(this.isLecturer){var e=this.getTab(Kn,{textData:""});this.setNewTab(e),this.sendNewTab(e),this.setActiveTab()}},addVideo:function(e){var t=this.getTab(Wn,{display_name:this.files[e].display_name,option:{language:"en",playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:this.files[e].images}],play:!1,pause:!1,progress:0}});this.setNewTab(t),this.sendNewTab(t),this.library=!1,this.setActiveTab()},addWhiteBoard:function(){if(this.isLecturer){var e=this.getTab(Xn,{bigData:""}),t=this;this.setNewTab(e),this.setActiveTab(),this.sendNewTab(e),t.isLecturer||(Et()(".ql-toolbar").each((function(){Et()(this).hide()})),Et()(".whiteboard-toolbar").each((function(){Et()(this).hide()})))}},onPlayerCanplay:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLecturer){e.next=2;break}return e.abrupt("return");case 2:window.console.log(t.currentTime()),Cn(this.sessionId,this.email,t.currentTime(),n);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),onPlayerPlayVideo:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLecturer){e.next=2;break}return e.abrupt("return");case 2:jn(this.sessionId,this.email,"play",t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onPlayerPauseVideo:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLecturer){e.next=2;break}return e.abrupt("return");case 2:jn(this.sessionId,this.email,"pause",t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),showEndSessionModal:function(){this.showEndSession=!0},hideEndSessionModal:function(){this.showEndSession=!1},endSession:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.$router.resolve({name:"Sessions"}),window.location.href=t.href;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initializeScreenSharing:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,n=function(){r.sharingMyScreen=!0},this.isLecturer){e.next=4;break}return e.abrupt("return");case 4:Tt()?(this.screenSharingPublisher=It(this.session,this.times,n),this.times=this.times+1,this.screenSharingPublisher.on("mediaStopped",Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Et()(".screen-share").find("#screen-preview").remove(),e.next=3,Fn(t.sessionId,!1,t.email);case 3:t.sharingMyScreen=!1;case 4:case"end":return e.stop()}}),e)})))),this.screenSharingPublisher.on("subscribe",(function(){window.console.log("Subscribed!")}))):alert("Screen Sharing is not supported in this browser.");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),stopScreenSharing:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLecturer){e.next=2;break}return e.abrupt("return");case 2:return this.session.unpublish(this.screenSharingPublisher),e.next=5,Fn(this.sessionId,!1,this.email);case 5:this.sharingMyScreen=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),displayFile:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,this.addFile(t),e.next=7;break;case 4:throw e.prev=4,e.t0=e["catch"](0),e.t0;case 7:case"end":return e.stop()}}),e,this,[[0,4]])})));function t(t){return e.apply(this,arguments)}return t}(),deleteFile:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t--,window.console.log(this.workSpaceTabs),n=this.workSpaceTabs.filter((function(e){return e.name==Gn||e.name==Wn})).filter((function(e){return e.display_name==i.files[t].display_name})).length>0,!n){e.next=7;break}alert("The file is still opened in tab! Close the tab to proceed."),e.next=13;break;case 7:return e.next=9,Vn(this.sessionId,t);case 9:r=e.sent,a=r.data,window.console.log("DATA",a),this.files=a.files.map((function(e,t){return Yn({},e,{index:t+1})}));case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addFile:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t--,"powerpoint"!=this.files[t].resource_type&&"others"!=this.files[t].resource_type){e.next=8;break}return n=this.getTab(Gn,Yn({},this.files[t])),e.next=5,In(this.sessionId,this.email,t);case 5:this.setNewTab(n),e.next=9;break;case 8:"video"==this.files[t].resource_type&&this.addVideo(t);case 9:this.library=!1,this.setActiveTab();case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),setActiveTab:function(){this.isLecturer&&this.changeTab(this.workSpaceTabs.length-1)},sendNewTab:function(e){this.isLecturer&&qt(e,this.sessionId,this.email)},handleTabChange:function(e){this.isLecturer&&Ft(e,this.sessionId,this.email)},muteButton:function(){this.publisher.publishAudio(!1),this.muted=!0},unmuteButton:function(){this.isLecturer&&(this.publisher.publishAudio(!0),this.muted=!1)},addStudent:function(e,t,n){this.studentsRole=[].concat(Object(ft["a"])(this.studentsRole),[{role:e,email:t,mute:!0,name:n}])},removeStudent:function(e){this.studentsRole=this.studentsRole.filter((function(t){return t.role!==e}))},turnStudentOn:function(e){var t=this.studentsRole.findIndex((function(t){return t.role==e})),n=this.studentsRole[t];n.mute=!1;var r=this.studentsRole;r[t]=n,this.studentsRole=r,gn(e,this.sessionId)},turnStudentOff:function(e){var t=this.studentsRole.findIndex((function(t){return t.role==e})),n=this.studentsRole[t];n.mute=!0;var r=this.studentsRole;r[t]=n,this.studentsRole=r,yn(e,this.sessionId)}},computed:{activeTabs:function(){return[this.workSpaceTabs[this.currentTab]]},getSessionId:function(){return this.sessionId},isLecturer:function(){return"lecturer"==k.state.session.role.split("-")[0]},currentNumberOfSameTab:function(e){return this.workSpaceTabs.filter((function(t){return t.name==e})).length}}},tr=er,nr=(n("1e71"),n("a523")),rr=n("23a7"),ar=n("8860"),ir=n("da13"),sr=n("5d23"),or=n("f774"),cr=n("a797"),lr=n("490a"),ur=n("8654"),dr=Object(c["a"])(tr,dt,mt,!1,null,null,null),mr=dr.exports;u()(dr,{VBtn:L["a"],VCard:qe["a"],VCardActions:Me["a"],VCardTitle:Me["c"],VCol:ee["a"],VContainer:nr["a"],VDataTable:at["a"],VDialog:Fe["a"],VDivider:it["a"],VFileInput:rr["a"],VIcon:st["a"],VImg:E["a"],VList:ar["a"],VListItem:ir["a"],VListItemTitle:sr["c"],VMenu:pn["a"],VNavigationDrawer:or["a"],VOverlay:cr["a"],VProgressCircular:lr["a"],VRow:te["a"],VSnackbar:ne["a"],VSpacer:ze["a"],VTextField:ur["a"],VToolbar:ot["a"],VToolbarItems:ct["a"],VToolbarTitle:ct["b"]});var fr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("SideBar",{key:"this.$route.name"}),n("div",{staticStyle:{"padding-left":"256px"}},[n("div",{staticStyle:{height:"100vh"}},[n("router-view")],1)])],1)},pr=[],vr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-navigation-drawer",{staticStyle:{height:"100vh"},attrs:{right:e.right,absolute:"",dark:"",permanent:""},scopedSlots:e._u([{key:"append",fn:function(){return[r("div",{staticClass:"pa-2"},[r("v-btn",{attrs:{block:""},on:{click:e.logoutUser}},[e._v("Logout")])],1)]},proxy:!0}])},[r("v-list",[r("v-img",{staticStyle:{width:"90%",margin:"auto","margin-bottom":"25px"},attrs:{src:n("9d64")}}),r("v-list-item",{class:e.miniVariant&&"px-0",attrs:{"two-line":""}},[r("v-list-item-avatar",[r("img",{attrs:{src:"https://randomuser.me/api/portraits/men/81.jpg"}})]),r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(e.name))]),r("v-list-item-subtitle",[e._v(e._s(e.role))])],1)],1),r("v-divider"),e._l(e.items,(function(t){return r("v-list-group",{directives:[{name:"show",rawName:"v-show",value:e.isAdmin||t.view||e.isLecturer,expression:"isAdmin || item.view || isLecturer"}],key:t.title,attrs:{"prepend-icon":t.action,"no-action":"",color:"rgb(255,255,255)"},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)]},proxy:!0}],null,!0),model:{value:t.active,callback:function(n){e.$set(t,"active",n)},expression:"item.active"}},e._l(t.items,(function(t){return r("v-list-item",{directives:[{name:"show",rawName:"v-show",value:e.isLecturer&&t.lecturerCanView||e.isAdmin,expression:"isLecturer && subItem.lecturerCanView || isAdmin"}],key:t.title,on:{click:function(n){return e.navigateTo(t.route)}}},[r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)})),1)}))],2)],1)},hr=[],br=(n("4e827"),{mounted:function(){this.email=k.state.user.email,this.role=k.state.user.role.sort()[0],this.name=k.state.user.name},name:"SideBar",data:function(){return{email:"",role:"",items:[{action:"dashboard",title:"Dashboard",view:!0,items:[]},{action:"people",title:"Users",view:!1,items:[{title:"Admin",route:"Admin",view:!1,lecturerCanView:!1},{title:"Lecturers",route:"Lecturers",view:!1,lecturerCanView:!1},{title:"Students",route:"Students",view:!1,lecturerCanView:!0}]},{action:"date_range",title:"Classes",active:!0,view:!0,items:[{title:"All Classes",route:"Sessions",view:!0,lecturerCanView:!0},{title:"New Class",route:"NewSession",view:!1,lecturerCanView:!0},{title:"My Schedule",route:"Sessions",view:!0,lecturerCanView:!0}]},{action:"account_circle",title:"Account",view:!0,items:[{title:"Setting",route:"Sessions",view:!0}]}]}},methods:{navigateTo:function(e){this.$router.push({name:e})},logoutUser:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$();case 3:return e.next=5,k.commit("logOut");case 5:G.a.remove("user"),this.$router.push({name:"UserLogin"}),e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}()},computed:{isAdmin:function(){return k.state.user.role.includes("admin")},isLecturer:function(){return k.state.user.role.includes("lecturer")}}}),gr=br,wr=n("56b0"),yr=n("8270"),xr=Object(c["a"])(gr,vr,hr,!1,null,null,null),kr=xr.exports;u()(xr,{VBtn:L["a"],VDivider:it["a"],VImg:E["a"],VList:ar["a"],VListGroup:wr["a"],VListItem:ir["a"],VListItemAvatar:yr["a"],VListItemContent:sr["a"],VListItemSubtitle:sr["b"],VListItemTitle:sr["c"],VNavigationDrawer:or["a"]});var Sr={name:"Standard",components:{SideBar:kr},data:function(){return{sessions:[],menu:[]}},mounted:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge();case 3:t=e.sent,n=t.data,this.sessions=n,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),alert(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},jr=Sr,Or=Object(c["a"])(jr,fr,pr,!1,null,null,null),Cr=Or.exports,_r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{attrs:{temporary:"",color:e.color,"expand-on-hover":e.expandOnHover,"mini-variant":e.miniVariant,right:e.right,src:e.bg,absolute:"",dark:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{staticClass:"py-0",attrs:{dense:"",nav:""}},[n("v-list-item",{class:e.miniVariant&&"px-0",attrs:{"two-line":""}},[n("v-list-item-avatar",[n("img",{attrs:{src:"https://randomuser.me/api/portraits/men/81.jpg"}})]),n("v-list-item-content",[n("v-list-item-title",[e._v("Application")]),n("v-list-item-subtitle",[e._v("Subtext")])],1)],1),n("v-divider"),e._l(e.items,(function(t){return n("v-list-item",{key:t.title,attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.title))])],1)],1)}))],2)],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.admins},scopedSlots:e._u([{key:"item.password",fn:function(t){t.item;return[n("v-chip",{attrs:{dark:""}},[e._v("*******")])]}},{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[e._v("My Admins")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-spacer"),n("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},r),[e._v("New Admin")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.lheaders,items:e.lecturers},scopedSlots:e._u([{key:"item.addAsAdmin",fn:function(t){var r=t.item;return[n("v-simple-checkbox",{model:{value:r.addAsAdmin,callback:function(t){e.$set(r,"addAsAdmin",t)},expression:"item.addAsAdmin"}})]}}])})],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var r=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(r)}}},[e._v(" mdi-pencil ")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(r)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[n("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}])})],1)},Tr=[];n("c975");function Lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(n),!0).forEach((function(t){Object(oe["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pr={data:function(){return{dialog:!1,drawer:!1,items:[{title:"Dashboard",icon:"mdi-view-dashboard"},{title:"Photos",icon:"mdi-image"},{title:"About",icon:"mdi-help-box"}],color:"primary",colors:["primary","blue","success","red","teal"],right:!0,miniVariant:!1,expandOnHover:!1,background:!1,headers:[{text:"No.",align:"start",sortable:!1,value:"no"},{text:"User ID",value:"_id"},{text:"Password",value:"password",class:"data-table-password"},{text:"Email",value:"email"},{text:"Name",value:"name"},{text:"Location",value:"location"},{text:"Status",value:"status"},{text:"Action",value:"action"}],lheaders:[{text:"No.",align:"start",sortable:!1,value:"no"},{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Add As Admin",value:"addAsAdmin"}],admins:[],lecturers:[],editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_e("admin");case 2:return t=e.sent,n=t.data,n=n.map((function(e,t){return Er({},e,{no:t+1,status:"active",location:e.location?e.location:"Malaysia"})})),e.next=7,_e("lecturer");case 7:r=e.sent,a=r.data,i=a.map((function(e){return e._id})),s=n.map((function(e){return e._id})),o=i.filter((function(e){return!s.includes(e)})),this.lecturers=a.filter((function(e){return o.includes(e._id)})).map((function(e,t){return Er({},e,{no:t+1,addAsAdmin:!1})})),this.admins=n;case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t.role.includes("admin")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Pe(t._id,"admin");case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}(),close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},save:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.lecturers.filter((function(e){return e.addAsAdmin})).map((function(e){return e._id})),e.prev=1,e.next=4,Le(t,"admin");case 4:this.close(),e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),this.close(),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(){return e.apply(this,arguments)}return t}()}},Ir=Pr,Dr=(n("f965"),n("cc20")),Vr=n("34c3"),Rr=n("9e88"),Ar=Object(c["a"])(Ir,_r,Tr,!1,null,"47ebb528",null),Nr=Ar.exports;u()(Ar,{VBtn:L["a"],VCard:qe["a"],VCardActions:Me["a"],VCardText:Me["b"],VCardTitle:Me["c"],VChip:Dr["a"],VContainer:nr["a"],VDataTable:at["a"],VDialog:Fe["a"],VDivider:it["a"],VIcon:st["a"],VList:ar["a"],VListItem:ir["a"],VListItemAvatar:yr["a"],VListItemContent:sr["a"],VListItemIcon:Vr["a"],VListItemSubtitle:sr["b"],VListItemTitle:sr["c"],VNavigationDrawer:or["a"],VRow:te["a"],VSimpleCheckbox:Rr["a"],VSpacer:ze["a"],VToolbar:ot["a"],VToolbarTitle:ct["b"]});var qr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Edit Student")])]),n("v-card-text",[n("v-container",[n("form",{staticStyle:{width:"100%",display:"flex","flex-direction":"column","flex-grow":"1"},attrs:{id:"form2"}},[n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-textbox",{attrs:{name:"Name","data-required-message":"* Please enter the student's name",required:"","data-msg-containerid":"nameError",id:"textbox",floatLabelType:"Auto",placeholder:"Enter your name: john doer"},model:{value:e.editing.name,callback:function(t){e.$set(e.editing,"name",t)},expression:"editing.name"}})],1),n("div",{attrs:{id:"nameError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-textbox",{attrs:{name:"Email","data-required-message":"* Please enter the student's email",required:"","data-msg-containerid":"emailError",id:"textbox",floatLabelType:"Auto",placeholder:"Enter your email: 123@gmai.com"},model:{value:e.editing.email,callback:function(t){e.$set(e.editing,"email",t)},expression:"editing.email"}})],1),n("div",{attrs:{id:"emailError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-textbox",{attrs:{type:"password",name:"Password","data-required-message":"* Please enter your password",required:"","data-msg-containerid":"passwordError",id:"textbox",floatLabelType:"Auto",placeholder:"Enter the password: 123456"},model:{value:e.editing.password,callback:function(t){e.$set(e.editing,"password",t)},expression:"editing.password"}})],1),n("div",{attrs:{id:"passwordError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-textbox",{attrs:{type:"text",name:"Location","data-required-message":"* Please state your Location",required:"","data-msg-containerid":"confirmError",id:"textbox",floatLabelType:"Auto",placeholder:"Enter your location:"},model:{value:e.editing.location,callback:function(t){e.$set(e.editing,"location",t)},expression:"editing.location"}})],1),n("div",{attrs:{id:"confirmError"}})])])])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.editDialog=!e.editDialog}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:"",id:"submit-edit-btn"}},[e._v("Update")])],1)],1)],1),n("v-navigation-drawer",{attrs:{temporary:"",color:e.color,"expand-on-hover":e.expandOnHover,"mini-variant":e.miniVariant,right:e.right,absolute:"",dark:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{staticClass:"py-0",attrs:{dense:"",nav:""}},[n("v-list-item",{class:e.miniVariant&&"px-0",attrs:{"two-line":""}},[n("v-list-item-avatar",[n("img",{attrs:{src:"https://randomuser.me/api/portraits/men/81.jpg"}})]),n("v-list-item-content",[n("v-list-item-title",[e._v("Application")]),n("v-list-item-subtitle",[e._v("Subtext")])],1)],1),n("v-divider"),e._l(e.items,(function(t){return n("v-list-item",{key:t.title,attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.title))])],1)],1)}))],2)],1),n("v-data-table",{attrs:{headers:e.headers,items:e.students},scopedSlots:e._u([{key:"item.password",fn:function(t){t.item;return[n("v-chip",{attrs:{dark:""}},[e._v("*******")])]}},{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[e._v("My Students")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-spacer"),n("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.addNewStudent}},[e._v("New Student")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("New Student")])]),n("v-card-text",[n("v-container",[n("form",{staticStyle:{width:"100%",display:"flex","flex-direction":"column","flex-grow":"1"},attrs:{id:"form1"}},[n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-textbox",{attrs:{name:"Name","data-required-message":"* Please enter the student's name",required:"","data-msg-containerid":"nameError",id:"textbox",floatLabelType:"Auto",placeholder:"Enter your name: john doer"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("div",{attrs:{id:"nameError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-textbox",{attrs:{name:"Email","data-required-message":"* Please enter the student's email",required:"","data-msg-containerid":"emailError",id:"textbox",floatLabelType:"Auto",placeholder:"Enter your email: 123@gmai.com"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),n("div",{attrs:{id:"emailError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-textbox",{attrs:{type:"password",name:"Password","data-required-message":"* Please enter your password",required:"","data-msg-containerid":"passwordError",id:"textbox",floatLabelType:"Auto",placeholder:"Enter the password: 123456"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("div",{attrs:{id:"passwordError"}})]),n("div",{staticClass:"form-group",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"e-float-input"},[n("ejs-textbox",{attrs:{type:"password",name:"Confirm","data-required-message":"* Confirm your password",required:"","data-msg-containerid":"confirmError",id:"textbox",floatLabelType:"Auto",placeholder:"Confirm your password"},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}})],1),n("div",{attrs:{id:"confirmError"}})])])])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:"",id:"submit-btn"}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var r=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(r.no)}}},[e._v(" mdi-pencil ")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(r)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[n("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}])})],1)},Mr=[];function Fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(n),!0).forEach((function(t){Object(oe["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r["a"].use(J["a"]);var $r=n("9b6c"),Ur={data:function(){return{options:{customPlacement:function(e,t){e=e.closest(".form-group").querySelector(".error"),e.parentElement.appendChild(t)},rules:{Email:{required:!0,email:!0},Password:{required:!0,minLength:6},Name:{required:!0},Confirm:{required:!0,minLength:6}}},editOptions:{customPlacement:function(e,t){e=e.closest(".form-group").querySelector(".error"),e.parentElement.appendChild(t)},rules:{Email:{required:!0,email:!0},Password:{required:!0,minLength:6},Name:{required:!0}}},email:"",password:"",name:"",confirm:"",dialog:!1,editDialog:!1,editing:{email:null,password:null,name:null,location:"null"},currentlyEditing:null,drawer:!1,items:[{title:"Dashboard",icon:"mdi-view-dashboard"},{title:"Photos",icon:"mdi-image"},{title:"About",icon:"mdi-help-box"}],color:"primary",colors:["primary","blue","success","red","teal"],right:!0,miniVariant:!1,expandOnHover:!1,background:!1,headers:[{text:"No.",align:"start",sortable:!1,value:"no"},{text:"User ID",value:"_id"},{text:"Password",value:"password",class:"data-table-password"},{text:"Email",value:"email"},{text:"Name",value:"name"},{text:"Location",value:"location"},{text:"Status",value:"status"},{text:"Actions",value:"action",sortable:!1}],students:[]}},computed:{},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize()},mounted:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e("student");case 3:t=e.sent,n=t.data,r=n,r=r.map((function(e,t){return zr({},e,{no:t+1,status:"active",location:e.location?e.location:"Malaysia"})})),this.students=r,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),window.console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}(),methods:{loadStudents:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_e("student");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),onFormSubmit:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.formObj.validate(),t&&this.save();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onFormSubmitEdit:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.formEditObj.validate(),t&&this.update();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),update:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.students[this.currentlyEditing],e.prev=1,e.next=4,De(t._id,this.editing);case 4:return e.next=6,this.loadStudents();case 6:n=e.sent,n=n.map((function(e,t){return zr({},e,{no:t+1,status:"active",location:e.location?e.location:"Malaysia"})})),this.students=n,window.console.log(n),this.editDialog=!1,e.next=16;break;case 13:throw e.prev=13,e.t0=e["catch"](1),e.t0;case 16:case"end":return e.stop()}}),e,this,[[1,13]])})));function t(){return e.apply(this,arguments)}return t}(),addNewStudent:function(){this.dialog=!0;var e=this;r["a"].nextTick((function(){e.formObj=new X["a"]("#form1",e.options),e.formObj.addRules("Email",{unique:[function(t){var n=e.students.map((function(e){return e.email}));return!n.includes(t["value"])},"Email already exists."]}),e.formObj.addRules("Confirm",{confirm:[function(t){return t["value"]==e.password},"Password doesn't match."]}),document.getElementById("submit-btn").onclick=function(t){t.preventDefault(),e.onFormSubmit()}}))},initialize:function(){this.students=[]},editItem:function(e){e--,window.console.log(e,this.students[e]);var t=this.students[e],n={email:t.email,password:t.password,name:t.name,location:""};this.currentlyEditing=e,this.editing=n,this.editDialog=!0;var a=this;r["a"].nextTick((function(){a.formEditObj=new X["a"]("#form2",a.editOptions),a.formEditObj.addRules("Email",{unique:[function(t){var n=a.students.filter((function(t,n){return n!=e})).map((function(e){return e.email}));return!n.includes(t["value"])},"Email already exists."]}),a.formEditObj.addRules("Location",{required:!0}),document.getElementById("submit-edit-btn").onclick=function(e){e.preventDefault(),a.onFormSubmitEdit()}}))},deleteItem:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.console.log(t,t._id),t._id!=k.state.user._id){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,Pe(t._id,"student");case 6:n=e.sent,r=n.data,this.students=r.map((function(e,t){return zr({},e,{no:t+1})})),e.next=14;break;case 11:throw e.prev=11,e.t0=e["catch"](3),e.t0;case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));function t(t){return e.apply(this,arguments)}return t}(),close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},save:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(this.name,this.email,this.password);case 3:return e.next=5,_e("student");case 5:t=e.sent,n=t.data,n=n.map((function(e,t){var n=e.role[2]?e.role[2]:e.role[1]?e.role[1]:e.role[0];return zr({},e,{no:t+1,role:$r(n),status:"active",location:"Semenyih"})})),this.students=n,this.close(),e.next=15;break;case 12:throw e.prev=12,e.t0=e["catch"](0),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(){return e.apply(this,arguments)}return t}()}},Br=Ur,Hr=(n("3776"),Object(c["a"])(Br,qr,Mr,!1,null,"7d6f5b62",null)),Yr=Hr.exports;u()(Hr,{VBtn:L["a"],VCard:qe["a"],VCardActions:Me["a"],VCardText:Me["b"],VCardTitle:Me["c"],VChip:Dr["a"],VContainer:nr["a"],VDataTable:at["a"],VDialog:Fe["a"],VDivider:it["a"],VIcon:st["a"],VList:ar["a"],VListItem:ir["a"],VListItemAvatar:yr["a"],VListItemContent:sr["a"],VListItemIcon:Vr["a"],VListItemSubtitle:sr["b"],VListItemTitle:sr["c"],VNavigationDrawer:or["a"],VSpacer:ze["a"],VToolbar:ot["a"],VToolbarTitle:ct["b"]});var Wr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{attrs:{temporary:"",color:e.color,"expand-on-hover":e.expandOnHover,"mini-variant":e.miniVariant,right:e.right,src:e.bg,absolute:"",dark:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{staticClass:"py-0",attrs:{dense:"",nav:""}},[n("v-list-item",{class:e.miniVariant&&"px-0",attrs:{"two-line":""}},[n("v-list-item-avatar",[n("img",{attrs:{src:"https://randomuser.me/api/portraits/men/81.jpg"}})]),n("v-list-item-content",[n("v-list-item-title",[e._v("Application")]),n("v-list-item-subtitle",[e._v("Subtext")])],1)],1),n("v-divider"),e._l(e.items,(function(t){return n("v-list-item",{key:t.title,attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.title))])],1)],1)}))],2)],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.lecturers},scopedSlots:e._u([{key:"item.password",fn:function(t){t.item;return[n("v-chip",{attrs:{dark:""}},[e._v("*******")])]}},{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[e._v("My Lecturers")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-spacer"),n("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},r),[e._v("New Lecturer")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.addLecturerHeaders,items:e.students},scopedSlots:e._u([{key:"item.addAsLecturer",fn:function(t){var r=t.item;return[n("v-simple-checkbox",{model:{value:r.addAsLecturer,callback:function(t){e.$set(r,"addAsLecturer",t)},expression:"item.addAsLecturer"}})]}}])})],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var r=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(r)}}},[e._v(" mdi-pencil ")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(r)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[n("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}])})],1)},Gr=[];function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach((function(t){Object(oe["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kr={data:function(){return{dialog:!1,drawer:!1,items:[{title:"Dashboard",icon:"mdi-view-dashboard"},{title:"Photos",icon:"mdi-image"},{title:"About",icon:"mdi-help-box"}],color:"primary",colors:["primary","blue","success","red","teal"],right:!0,miniVariant:!1,expandOnHover:!1,background:!1,headers:[{text:"No.",align:"start",sortable:!1,value:"no"},{text:"User ID",value:"_id"},{text:"Password",value:"password",class:"data-table-password"},{text:"Email",value:"email"},{text:"Name",value:"name"},{text:"Location",value:"location"},{text:"Status",value:"status"},{text:"Actions",value:"action",sortable:!1}],addLecturerHeaders:[{text:"No.",align:"start",sortable:!1,value:"no"},{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Add As Lecturer",value:"addAsLecturer"}],lecturers:[],students:[]}},mounted:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e("lecturer");case 3:return t=e.sent,n=t.data,e.next=7,_e("student");case 7:r=e.sent,a=r.data,n=n.map((function(e,t){return Xr({},e,{no:t+1})})),a=a.filter((function(e){return!e.role.includes("lecturer")})).map((function(e,t){return Xr({},e,{addAsLecturer:!1,no:t+1})})),this.lecturers=n.map((function(e,t){return Xr({},e,{no:t+1,status:"active",location:e.location?e.location:"Malaysia"})})),this.students=a,window.console.log(a,n),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),window.console.log(e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));function t(){return e.apply(this,arguments)}return t}(),computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){this.lecturers=[]},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe(t._id,"lecturer");case 3:return n=e.sent,r=n.data,this.lecturers=r.map((function(e,t){return Xr({},e,{no:t+1})})),e.next=8,_e("student");case 8:a=e.sent,i=a.data,this.students=i.filter((function(e){return!e.role.includes("lecturer")})).map((function(e,t){return Xr({},e,{addAsLecturer:!1,no:t+1})})),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),alert(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));function t(t){return e.apply(this,arguments)}return t}(),close:function(){this.dialog=!1},save:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.console.log(this.students),t=this.students.filter((function(e){return e.addAsLecturer})).map((function(e){return e._id})),e.prev=2,e.next=5,Le(t,"lecturer");case 5:return n=e.sent,r=n.data,this.lecturers=r.map((function(e,t){return Xr({},e,{no:t+1,status:"active",location:e.location?e.location:"Malaysia"})})),e.next=10,_e("student");case 10:a=e.sent,i=a.data,this.students=i.filter((function(e){return!e.role.includes("lecturer")})).map((function(e,t){return Xr({},e,{addAsLecturer:!1,no:t+1})})),this.close(),e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](2),window.console.log(e.t0),this.close();case 20:case"end":return e.stop()}}),e,this,[[2,16]])})));function t(){return e.apply(this,arguments)}return t}()}},Qr=Kr,Zr=(n("b526"),Object(c["a"])(Qr,Wr,Gr,!1,null,"b60b4e56",null)),ea=Zr.exports;u()(Zr,{VBtn:L["a"],VCard:qe["a"],VCardActions:Me["a"],VCardText:Me["b"],VCardTitle:Me["c"],VChip:Dr["a"],VContainer:nr["a"],VDataTable:at["a"],VDialog:Fe["a"],VDivider:it["a"],VIcon:st["a"],VList:ar["a"],VListItem:ir["a"],VListItemAvatar:yr["a"],VListItemContent:sr["a"],VListItemIcon:Vr["a"],VListItemSubtitle:sr["b"],VListItemTitle:sr["c"],VNavigationDrawer:or["a"],VRow:te["a"],VSimpleCheckbox:Rr["a"],VSpacer:ze["a"],VToolbar:ot["a"],VToolbarTitle:ct["b"]}),r["a"].use(j["a"]);var ta=[{path:"/",component:ae,name:"UserLogin"},{path:"/session",component:Cr,name:"Session",children:[{path:":id/edit",component:Ze,name:"EditSession"},{path:"all",component:ut,name:"Sessions"},{path:"new",component:Ue,name:"NewSession",beforeEnter:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:k.state.user.role.includes("admin")||k.state.user.role.includes("lecturer")?r():r("/session/all");case 1:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}],beforeEnter:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!G.a.get("user")){e.next=6;break}return e.next=3,k.commit("loggedIn",JSON.parse(G.a.get("user")));case 3:r(),e.next=7;break;case 6:r("/");case 7:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{path:"/users",component:Cr,name:"Session",children:[{path:"admin",component:Nr,name:"Admin"},{path:"students",component:Yr,name:"Students"},{path:"lecturers",component:ea,name:"Lecturers"}],beforeEnter:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!G.a.get("user")){e.next=6;break}return e.next=3,k.commit("loggedIn",JSON.parse(G.a.get("user")));case 3:r(),e.next=7;break;case 6:r("/");case 7:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{path:"/live/:id",component:mr,name:"Live",meta:{layout:"auth"},beforeEnter:function(e,t,n){if(!G.a.get("user"))return n("/");k.state.session.sessionId?n():(window.console.log(e,y.getters.currentRoomActive,y.getters.currentSession),n("/session/all"))}},{path:"*",component:I}],na=new j["a"]({mode:"history",routes:ta}),ra=na,aa=n("f309");n("d1e78");r["a"].use(aa["a"]);var ia=new aa["a"]({icons:{iconfont:"mdi"}}),sa=n("1881"),oa=n.n(sa),ca=n("ad24"),la=n("b2e5"),ua=n.n(la),da=n("e37d"),ma=n("1918"),fa=n.n(ma),pa=n("959d"),va=n("d6d3"),ha=n.n(va),ba=n("e0ec"),ga=n.n(ba),wa=n("e8c3"),ya=n.n(wa),xa=n("e104"),ka=n("cf4d"),Sa=n.n(ka),ja=n("03cd"),Oa=n.n(ja);n("e012"),n("2cab"),n("a753"),n("8096"),n("14e1"),n("fda2");r["a"].use(fa.a),r["a"].component("carousel",Sa.a),r["a"].use(da["a"]),r["a"].use(ca["a"]),r["a"].use(oa.a),r["a"].use(pa["a"]),r["a"].component(ua.a.name,ua.a),r["a"].use(ha.a),r["a"].use(ga.a),r["a"].use(p["a"]),r["a"].use(ya.a),r["a"].use(Oa.a),r["a"].use(xa["a"],{configuration:{cloudName:"dnsrf3okp"}}),r["a"].config.productionTip=!1,new r["a"]({el:"#app",router:ra,vuetify:ia,store:y,authStore:k,render:function(e){return e(f)}})},6227:function(e,t,n){},6494:function(e,t,n){},"7b2c":function(e,t,n){},"885b":function(e,t,n){"use strict";var r=n("ec15"),a=n.n(r);a.a},"88d2":function(e,t,n){"use strict";var r=n("7b2c"),a=n.n(r);a.a},"9d64":function(e,t,n){e.exports=n.p+"img/logo.dd0874fa.png"},b526:function(e,t,n){"use strict";var r=n("f5f9"),a=n.n(r);a.a},ea11:function(e,t,n){},eb50:function(e,t,n){},ec15:function(e,t,n){},f5f9:function(e,t,n){},f8a2:function(e,t,n){e.exports=n.p+"img/icon.671ebddd.png"},f965:function(e,t,n){"use strict";var r=n("2428"),a=n.n(r);a.a}});
//# sourceMappingURL=app.73378bc1.js.map